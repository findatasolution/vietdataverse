<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T√†i li·ªáu k·ªπ thu·∫≠t - Macro Crawling System</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 4px solid #3498db;
            padding-left: 10px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        th {
            background-color: #3498db;
            color: white;
            padding: 12px;
            text-align: left;
        }
        td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        .status-active {
            color: #27ae60;
            font-weight: bold;
        }
        .status-planned {
            color: #e67e22;
            font-weight: bold;
        }
        .code {
            background-color: #ecf0f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        .section {
            background-color: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .note {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px 15px;
            margin: 15px 0;
        }
        .info {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 10px 15px;
            margin: 15px 0;
        }
        ul {
            line-height: 1.8;
        }
        a {
            color: #3498db;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .metadata {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>üìä T√†i li·ªáu k·ªπ thu·∫≠t - H·ªá th·ªëng Crawl d·ªØ li·ªáu vƒ© m√¥ (Macro Crawling System)</h1>

    <div class="metadata">
        <strong>Schema:</strong> <span class="code">macro_crawling</span> (s·ª≠ d·ª•ng schema m·∫∑c ƒë·ªãnh public)<br>
        <strong>Database:</strong> PostgreSQL (Neon Tech)<br>
        <strong>Automation:</strong> GitHub Actions - Daily scheduled at 8:00 AM VN (1:00 AM UTC)<br>
        <strong>Last updated:</strong> 2026-01-05
    </div>

    <!-- CURRENT TABLES -->
    <h2>üü¢ C√°c b·∫£ng ƒëang ho·∫°t ƒë·ªông (Production)</h2>

    <div class="section">
        <h3>1. vn_gold_24h_dojihn_hist</h3>
        <p><strong>M√¥ t·∫£:</strong> Gi√° v√†ng mi·∫øng SJC 24K t·ª´ DOJI H√† N·ªôi (h√†ng ng√†y)</p>
        <p><strong>Ngu·ªìn:</strong> <a href="https://www.24h.com.vn/gia-vang-hom-nay-c425.html" target="_blank">24h.com.vn</a> - Crawl t·ª´ b·∫£ng HTML</p>
        <p><strong>T·∫ßn su·∫•t c·∫≠p nh·∫≠t:</strong> H√†ng ng√†y l√∫c 8:00 AM</p>
        <p><strong>Script crawl:</strong> <span class="code">crawl_bot.py</span> ‚Üí <span class="code">utils.crawl_gold_price_24h()</span></p>

        <table>
            <thead>
                <tr>
                    <th>T√™n c·ªôt</th>
                    <th>Ki·ªÉu d·ªØ li·ªáu</th>
                    <th>M√¥ t·∫£</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="code">date</td>
                    <td>DATE (PK)</td>
                    <td>Ng√†y giao d·ªãch</td>
                </tr>
                <tr>
                    <td class="code">buy_price</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>Gi√° mua v√†o (VND/l∆∞·ª£ng)</td>
                </tr>
                <tr>
                    <td class="code">sell_price</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>Gi√° b√°n ra (VND/l∆∞·ª£ng)</td>
                </tr>
            </tbody>
        </table>

        <div class="info">
            <strong>üîç Chi ti·∫øt k·ªπ thu·∫≠t:</strong>
            <ul>
                <li>URL pattern: <span class="code">https://www.24h.com.vn/gia-vang-hom-nay-c425.html?ngaythang=YYYY-MM-DD</span></li>
                <li>Ph∆∞∆°ng ph√°p: BeautifulSoup HTML parsing, t√¨m b·∫£ng ch·ª©a "DOJI" v√† "HN"</li>
                <li>ƒê∆°n v·ªã g·ªëc: ngh√¨n VND, nh√¢n x1000 ƒë·ªÉ l∆∞u ƒë∆°n v·ªã VND ƒë·∫ßy ƒë·ªß</li>
                <li>Duplicate check: Ki·ªÉm tra <span class="code">date</span> tr∆∞·ªõc khi insert</li>
            </ul>
        </div>
    </div>

    <div class="section">
        <h3>2. vn_silver_phuquy_hist</h3>
        <p><strong>M√¥ t·∫£:</strong> Gi√° b·∫°c mi·∫øng Ph√∫ Qu√Ω (h√†ng ng√†y)</p>
        <p><strong>Ngu·ªìn:</strong> <a href="https://giabac.vn" target="_blank">giabac.vn</a> - API JSON endpoint</p>
        <p><strong>T·∫ßn su·∫•t c·∫≠p nh·∫≠t:</strong> H√†ng ng√†y l√∫c 8:00 AM</p>
        <p><strong>Script crawl:</strong> <span class="code">crawl_bot.py</span> (line 18-47)</p>

        <table>
            <thead>
                <tr>
                    <th>T√™n c·ªôt</th>
                    <th>Ki·ªÉu d·ªØ li·ªáu</th>
                    <th>M√¥ t·∫£</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="code">id</td>
                    <td>INTEGER (AUTO)</td>
                    <td>Primary key t·ª± ƒë·ªông tƒÉng</td>
                </tr>
                <tr>
                    <td class="code">date</td>
                    <td>DATE</td>
                    <td>Ng√†y giao d·ªãch</td>
                </tr>
                <tr>
                    <td class="code">buy_price</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>Gi√° mua v√†o (VND/l∆∞·ª£ng)</td>
                </tr>
                <tr>
                    <td class="code">sell_price</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>Gi√° b√°n ra (VND/l∆∞·ª£ng)</td>
                </tr>
            </tbody>
        </table>

        <div class="info">
            <strong>üîç Chi ti·∫øt k·ªπ thu·∫≠t:</strong>
            <ul>
                <li>API endpoint: <span class="code">https://giabac.vn/SilverInfo/GetGoldPriceChartFromSQLData?days=7&type=L</span></li>
                <li>Ph∆∞∆°ng ph√°p: REST API JSON response</li>
                <li>D·ªØ li·ªáu tr·∫£ v·ªÅ: 7 ng√†y g·∫ßn nh·∫•t, script l·∫•y ng√†y cu·ªëi c√πng (tail(1))</li>
                <li>Duplicate check: Ki·ªÉm tra <span class="code">date</span> tr∆∞·ªõc khi insert</li>
            </ul>
        </div>

        <div class="note">
            <strong>‚ö†Ô∏è Known Issue:</strong> API giabac.vn th·ªânh tho·∫£ng ch·∫≠m c·∫≠p nh·∫≠t d·ªØ li·ªáu ng√†y m·ªõi. Khi crawl l√∫c 8:00 AM, c√≥ th·ªÉ ch·ªâ l·∫•y ƒë∆∞·ª£c d·ªØ li·ªáu c·ªßa ng√†y h√¥m tr∆∞·ªõc.
        </div>
    </div>

    <div class="section">
        <h3>3. vn_sbv_interbankrate</h3>
        <p><strong>M√¥ t·∫£:</strong> L√£i su·∫•t th·ªã tr∆∞·ªùng li√™n ng√¢n h√†ng do Ng√¢n h√†ng Nh√† n∆∞·ªõc (SBV) c√¥ng b·ªë</p>
        <p><strong>Ngu·ªìn:</strong> <a href="https://sbv.gov.vn" target="_blank">sbv.gov.vn</a> - Headless CMS API</p>
        <p><strong>T·∫ßn su·∫•t c·∫≠p nh·∫≠t:</strong> Ki·ªÉm tra h√†ng ng√†y, nh∆∞ng SBV ch·ªâ c√¥ng b·ªë khi c√≥ thay ƒë·ªïi (th∆∞·ªùng v√†i tu·∫ßn/th√°ng)</p>
        <p><strong>Script crawl:</strong> <span class="code">crawl_bot.py</span> (line 74-178)</p>

        <table>
            <thead>
                <tr>
                    <th>T√™n c·ªôt</th>
                    <th>Ki·ªÉu d·ªØ li·ªáu</th>
                    <th>M√¥ t·∫£</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="code">date</td>
                    <td>DATE (PK)</td>
                    <td>Ng√†y √°p d·ª•ng l√£i su·∫•t</td>
                </tr>
                <tr>
                    <td class="code">crawl_time</td>
                    <td>TIMESTAMP</td>
                    <td>Th·ªùi ƒëi·ªÉm crawl d·ªØ li·ªáu</td>
                </tr>
                <tr>
                    <td class="code">ls_quadem</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>L√£i su·∫•t qua ƒë√™m (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">ls_1w</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>L√£i su·∫•t 1 tu·∫ßn (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">ls_2w</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>L√£i su·∫•t 2 tu·∫ßn (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">ls_1m</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>L√£i su·∫•t 1 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">ls_3m</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>L√£i su·∫•t 3 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">ls_6m</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>L√£i su·∫•t 6 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">ls_9m</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>L√£i su·∫•t 9 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">doanhso_quadem</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>Doanh s·ªë qua ƒë√™m (t·ª∑ VND)</td>
                </tr>
                <tr>
                    <td class="code">doanhso_1w ... doanhso_9m</td>
                    <td>NUMERIC(18, 2)</td>
                    <td>Doanh s·ªë t∆∞∆°ng ·ª©ng c√°c k·ª≥ h·∫°n (t·ª∑ VND)</td>
                </tr>
            </tbody>
        </table>

        <div class="info">
            <strong>üîç Chi ti·∫øt k·ªπ thu·∫≠t:</strong>
            <ul>
                <li>API endpoint: <span class="code">https://sbv.gov.vn/o/headless-delivery/v1.0/content-structures/3450260/structured-contents?pageSize=1&sort=datePublished:desc</span></li>
                <li>Ph∆∞∆°ng ph√°p: REST API (Liferay Headless CMS), l·∫•y b·∫£n ghi m·ªõi nh·∫•t</li>
                <li>Timezone handling: UTC+7 (Vietnam time) conversion</li>
                <li>Duplicate check: Ki·ªÉm tra <span class="code">date</span> tr∆∞·ªõc khi insert</li>
                <li>Logic: Ch·ªâ insert khi ng√†y c√¥ng b·ªë m·ªõi kh√°c v·ªõi ng√†y h√¥m nay (t·ª©c SBV c√≥ thay ƒë·ªïi)</li>
            </ul>
        </div>

        <div class="note">
            <strong>üí° L∆∞u √Ω:</strong> L√£i su·∫•t li√™n ng√¢n h√†ng kh√¥ng thay ƒë·ªïi h√†ng ng√†y. SBV ch·ªâ c√¥ng b·ªë khi c√≥ ƒëi·ªÅu ch·ªânh ch√≠nh s√°ch ti·ªÅn t·ªá. Vi·ªác kh√¥ng c√≥ d·ªØ li·ªáu m·ªõi m·ªói ng√†y l√† ho√†n to√†n b√¨nh th∆∞·ªùng.
        </div>
    </div>

    <!-- FUTURE PLANS -->
    <h2>üîµ K·∫ø ho·∫°ch ph√°t tri·ªÉn (Planned)</h2>

    <div class="section">
        <h3>4. vn_bank_termdepo_rates (Planned)</h3>
        <p class="status-planned">‚è≥ ƒêANG L√äN K·∫æ HO·∫†CH</p>
        <p><strong>M√¥ t·∫£:</strong> L√£i su·∫•t ti·∫øt ki·ªám (term deposit) c·ªßa c√°c ng√¢n h√†ng th∆∞∆°ng m·∫°i l·ªõn t·∫°i Vi·ªát Nam</p>
        <p><strong>Ngu·ªìn d·ª± ki·∫øn:</strong></p>
        <ul>
            <li><a href="https://vietcombank.com.vn/lai-suat" target="_blank">Vietcombank</a> - Ng√¢n h√†ng TMCP Ngo·∫°i th∆∞∆°ng Vi·ªát Nam</li>
            <li><a href="https://www.vietinbank.vn/lai-suat" target="_blank">VietinBank</a> - Ng√¢n h√†ng TMCP C√¥ng th∆∞∆°ng Vi·ªát Nam</li>
            <li><a href="https://www.agribank.com.vn/lai-suat" target="_blank">Agribank</a> - Ng√¢n h√†ng N√¥ng nghi·ªáp v√† Ph√°t tri·ªÉn N√¥ng th√¥n VN</li>
            <li><a href="https://www.mbbank.com.vn/lai-suat" target="_blank">MB Bank</a> - Ng√¢n h√†ng TMCP Qu√¢n ƒë·ªôi</li>
            <li><a href="https://www.techcombank.com.vn/lai-suat" target="_blank">Techcombank</a> - Ng√¢n h√†ng TMCP K·ªπ Th∆∞∆°ng Vi·ªát Nam</li>
            <li><a href="https://www.acb.com.vn/lai-suat" target="_blank">ACB</a> - Ng√¢n h√†ng TMCP √Å Ch√¢u</li>
            <li><a href="https://www.tpb.vn/lai-suat" target="_blank">TPBank</a> - Ng√¢n h√†ng TMCP Ti√™n Phong</li>
            <li><a href="https://www.vpbank.com.vn/lai-suat" target="_blank">VPBank</a> - Ng√¢n h√†ng TMCP Vi·ªát Nam Th·ªãnh V∆∞·ª£ng</li>
        </ul>
        <p><strong>T·∫ßn su·∫•t c·∫≠p nh·∫≠t d·ª± ki·∫øn:</strong> H√†ng ng√†y ho·∫∑c 2 ng√†y/l·∫ßn (l√£i su·∫•t th∆∞·ªùng thay ƒë·ªïi √≠t)</p>

        <table>
            <thead>
                <tr>
                    <th>T√™n c·ªôt (ƒë·ªÅ xu·∫•t)</th>
                    <th>Ki·ªÉu d·ªØ li·ªáu</th>
                    <th>M√¥ t·∫£</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="code">id</td>
                    <td>INTEGER (AUTO)</td>
                    <td>Primary key</td>
                </tr>
                <tr>
                    <td class="code">bank_code</td>
                    <td>VARCHAR(20)</td>
                    <td>M√£ ng√¢n h√†ng (VCB, VTB, AGR, MB, TCB, ACB, TPB, VPB)</td>
                </tr>
                <tr>
                    <td class="code">date</td>
                    <td>DATE</td>
                    <td>Ng√†y √°p d·ª•ng l√£i su·∫•t</td>
                </tr>
                <tr>
                    <td class="code">crawl_time</td>
                    <td>TIMESTAMP</td>
                    <td>Th·ªùi ƒëi·ªÉm crawl d·ªØ li·ªáu</td>
                </tr>
                <tr>
                    <td class="code">term_1m</td>
                    <td>NUMERIC(5, 2)</td>
                    <td>L√£i su·∫•t k·ª≥ h·∫°n 1 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">term_3m</td>
                    <td>NUMERIC(5, 2)</td>
                    <td>L√£i su·∫•t k·ª≥ h·∫°n 3 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">term_6m</td>
                    <td>NUMERIC(5, 2)</td>
                    <td>L√£i su·∫•t k·ª≥ h·∫°n 6 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">term_9m</td>
                    <td>NUMERIC(5, 2)</td>
                    <td>L√£i su·∫•t k·ª≥ h·∫°n 9 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">term_12m</td>
                    <td>NUMERIC(5, 2)</td>
                    <td>L√£i su·∫•t k·ª≥ h·∫°n 12 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">term_18m</td>
                    <td>NUMERIC(5, 2)</td>
                    <td>L√£i su·∫•t k·ª≥ h·∫°n 18 th√°ng (%/nƒÉm)</td>
                </tr>
                <tr>
                    <td class="code">term_24m</td>
                    <td>NUMERIC(5, 2)</td>
                    <td>L√£i su·∫•t k·ª≥ h·∫°n 24 th√°ng (%/nƒÉm)</td>
                </tr>
            </tbody>
        </table>

        <!-- <div class="note">
            <strong>üöß Th√°ch th·ª©c k·ªπ thu·∫≠t:</strong>
            <ul>
                <li>M·ªói ng√¢n h√†ng c√≥ c·∫•u tr√∫c website kh√°c nhau ‚Üí c·∫ßn 8 parsers ri√™ng bi·ªát</li>
                <li>M·ªôt s·ªë ng√¢n h√†ng c√≥ th·ªÉ d√πng JavaScript rendering ‚Üí c·∫ßn Selenium/Playwright</li>
                <li>Rate limiting v√† anti-bot detection</li>
                <li>T√™n k·ª≥ h·∫°n kh√¥ng th·ªëng nh·∫•t (1 th√°ng / 30 ng√†y / 1M)</li>
            </ul>
        </div> -->

    </div>

    <div class="section">
        <h3>5. vn_news_sentiment (Planned)</h3>
        <p class="status-planned">‚è≥ ƒêANG L√äN K·∫æ HO·∫†CH</p>
        <p><strong>M√¥ t·∫£:</strong> Thu th·∫≠p tin t·ª©c t·ª´ c√°c b√°o l·ªõn trong n∆∞·ªõc v·ªÅ v√†ng, b·∫°c, VN-Index v√† c√°c m√£ ch·ª©ng kho√°n VN30, ph·ª•c v·ª• ph√¢n t√≠ch sentiment</p>
        <p><strong>Ngu·ªìn d·ª± ki·∫øn:</strong></p>
        <ul>
            <li><a href="https://vnexpress.net/kinh-doanh" target="_blank">VnExpress Kinh doanh</a> - B√°o ƒëi·ªán t·ª≠ l·ªõn nh·∫•t VN</li>
            <li><a href="https://cafef.vn" target="_blank">CafeF</a> - Chuy√™n v·ªÅ t√†i ch√≠nh, ch·ª©ng kho√°n</li>
            <li><a href="https://baodautu.vn" target="_blank">B√°o ƒê·∫ßu t∆∞</a> - Chuy√™n v·ªÅ ƒë·∫ßu t∆∞, kinh t·∫ø</li>
            <li><a href="https://cafebiz.vn" target="_blank">CafeBiz</a> - Tin t·ª©c kinh doanh</li>
            <li><a href="https://dantri.com.vn/kinh-doanh.htm" target="_blank">D√¢n tr√≠ Kinh doanh</a></li>
            <li><a href="https://vietstock.vn/tin-tuc" target="_blank">VietStock News</a> - Chuy√™n s√¢u v·ªÅ ch·ª©ng kho√°n</li>
        </ul>
        <p><strong>T·ª´ kh√≥a crawl:</strong> "gi√° v√†ng", "gi√° b·∫°c", "VN-Index", "VN30", + 30 m√£ ch·ª©ng kho√°n VN30</p>
        <p><strong>T·∫ßn su·∫•t c·∫≠p nh·∫≠t d·ª± ki·∫øn:</strong> 2-4 l·∫ßn/ng√†y (s√°ng, tr∆∞a, chi·ªÅu, t·ªëi)</p>

        <table>
            <thead>
                <tr>
                    <th>T√™n c·ªôt (ƒë·ªÅ xu·∫•t)</th>
                    <th>Ki·ªÉu d·ªØ li·ªáu</th>
                    <th>M√¥ t·∫£</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="code">id</td>
                    <td>INTEGER (AUTO)</td>
                    <td>Primary key</td>
                </tr>
                <tr>
                    <td class="code">source</td>
                    <td>VARCHAR(50)</td>
                    <td>Ngu·ªìn b√°o (vnexpress, cafef, baodautu, ...)</td>
                </tr>
                <tr>
                    <td class="code">url</td>
                    <td>TEXT (UNIQUE)</td>
                    <td>URL b√†i vi·∫øt (unique constraint)</td>
                </tr>
                <tr>
                    <td class="code">title</td>
                    <td>TEXT</td>
                    <td>Ti√™u ƒë·ªÅ b√†i vi·∫øt</td>
                </tr>
                <tr>
                    <td class="code">content</td>
                    <td>TEXT</td>
                    <td>N·ªôi dung ƒë·∫ßy ƒë·ªß b√†i vi·∫øt</td>
                </tr>
                <tr>
                    <td class="code">published_date</td>
                    <td>TIMESTAMP</td>
                    <td>Ng√†y gi·ªù xu·∫•t b·∫£n b√†i vi·∫øt</td>
                </tr>
                <tr>
                    <td class="code">crawl_time</td>
                    <td>TIMESTAMP</td>
                    <td>Th·ªùi ƒëi·ªÉm crawl</td>
                </tr>
                <tr>
                    <td class="code">category</td>
                    <td>VARCHAR(50)</td>
                    <td>Danh m·ª•c (gold, silver, vnindex, stock_vn30)</td>
                </tr>
                <tr>
                    <td class="code">keywords</td>
                    <td>TEXT[]</td>
                    <td>M·∫£ng t·ª´ kh√≥a ƒë∆∞·ª£c ph√°t hi·ªán trong b√†i</td>
                </tr>
                <tr>
                    <td class="code">sentiment_score</td>
                    <td>NUMERIC(3, 2)</td>
                    <td>ƒêi·ªÉm sentiment (-1.0 ƒë·∫øn 1.0), ph√¢n t√≠ch sau</td>
                </tr>
                <tr>
                    <td class="code">sentiment_label</td>
                    <td>VARCHAR(20)</td>
                    <td>Nh√£n sentiment (positive, negative, neutral)</td>
                </tr>
            </tbody>
        </table>

        <div class="info">
            <strong>üîç Danh s√°ch VN30 (30 m√£ ch·ª©ng kho√°n v·ªën h√≥a l·ªõn nh·∫•t):</strong>
            <p style="font-family: monospace; font-size: 0.9em; background-color: #f8f9fa; padding: 10px; border-radius: 3px;">
                VCB, VHM, VIC, VNM, GAS, MSN, HPG, BID, MBB, CTG, TCB, VPB, FPT, ACB, PLX, SAB, STB, NVL, VRE, MWG, GVR, POW, HDB, TPB, PDR, BCM, SSI, VJC, HVN, KDH
            </p>
        </div>
<!-- 
        <div class="note">
            <strong>üöß Th√°ch th·ª©c k·ªπ thu·∫≠t:</strong>
            <ul>
                <li>Anti-scraping mechanisms: Cloudflare, rate limiting, IP blocking</li>
                <li>JavaScript-heavy websites ‚Üí c·∫ßn headless browser (Selenium/Playwright)</li>
                <li>D·ªØ li·ªáu l·ªõn: h√†ng trƒÉm b√†i vi·∫øt m·ªói ng√†y ‚Üí c·∫ßn optimize storage v√† indexing</li>
                <li>Duplicate detection: c√πng b√†i vi·∫øt c√≥ th·ªÉ xu·∫•t hi·ªán tr√™n nhi·ªÅu ngu·ªìn</li>
                <li>Sentiment analysis: c·∫ßn model NLP cho ti·∫øng Vi·ªát (PhoBERT, ViSoBERT)</li>
            </ul> -->
        </div>

        <!-- <div class="info">
            <strong>üí° ƒê·ªÅ xu·∫•t tri·ªÉn khai:</strong>
            <ul>
                <li><strong>Phase 1:</strong> Crawl title + URL only t·ª´ 2-3 ngu·ªìn (VnExpress, CafeF) cho keyword "gi√° v√†ng", "VN-Index"</li>
                <li><strong>Phase 2:</strong> Crawl full content v√† m·ªü r·ªông ngu·ªìn</li>
                <li><strong>Phase 3:</strong> T√≠ch h·ª£p sentiment analysis model (PhoBERT-based)</li>
                <li><strong>Phase 4:</strong> Real-time crawling v·ªõi Redis queue v√† Celery workers</li>
                <li><strong>C√¥ng c·ª•:</strong>
                    <ul>
                        <li>Crawling: Scrapy framework (scalable) ho·∫∑c Playwright (anti-detection)</li>
                        <li>Sentiment: Hugging Face Transformers + PhoBERT</li>
                        <li>Queue: Redis + Celery cho async processing</li>
                    </ul>
                </li>
            </ul>
        </div> -->
    </div>

    <!-- TECHNICAL INFRASTRUCTURE -->
    <h2>‚öôÔ∏è H·∫° t·∫ßng k·ªπ thu·∫≠t</h2>

    <div class="section">
        <h3>Automation Workflow (GitHub Actions)</h3>
        <p><strong>File config:</strong> <span class="code">.github/workflows/daily-crawl.yml</span></p>
        <p><strong>Trigger:</strong> Cron schedule <span class="code">0 1 * * *</span> (8:00 AM VN time)</p>
        <p><strong>Workflow steps:</strong></p>
        <ol>
            <li>Checkout code t·ª´ repository</li>
            <li>Setup Python 3.11 environment</li>
            <li>Install dependencies: pandas, requests, sqlalchemy, psycopg2-binary, beautifulsoup4</li>
            <li>Run <span class="code">crawl_tools/crawl_bot.py</span></li>
            <li>Show results (success/failure)</li>
        </ol>

        <div class="info">
            <strong>üìä Monitoring:</strong>
            <ul>
                <li>Logs ƒë∆∞·ª£c l∆∞u tr·ªØ tr√™n GitHub Actions (retention: 90 days)</li>
                <li>Email notification khi workflow fails (GitHub setting)</li>
                <li>Duplicate detection prevents data corruption</li>
            </ul>
        </div>
    </div>

    <div class="section">
        <h3>Database Schema</h3>
        <p><strong>Provider:</strong> Neon Tech (Serverless PostgreSQL)</p>
        <p><strong>Connection:</strong> Pooler mode (connection pooling enabled)</p>
        <p><strong>Current schema:</strong> <span class="code">public</span> (default)</p>
        <p><strong>Planned migration:</strong> Move to dedicated schema <span class="code">macro_crawling</span></p>

        <div class="note">
            <strong>üí° Migration plan to <span class="code">macro_crawling</span> schema:</strong>
            <pre style="background-color: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 5px; overflow-x: auto;">
-- Create new schema
CREATE SCHEMA IF NOT EXISTS macro_crawling;

-- Move existing tables
ALTER TABLE vn_gold_24h_dojihn_hist SET SCHEMA macro_crawling;
ALTER TABLE vn_silver_phuquy_hist SET SCHEMA macro_crawling;
ALTER TABLE vn_sbv_interbankrate SET SCHEMA macro_crawling;

-- Update application connection string to include schema
-- postgresql://user:pass@host/db?options=-c%20search_path=macro_crawling,public
            </pre>
        </div>
    </div>

    <div class="section">
        <h3>Codebase Structure</h3>
        <pre style="background-color: #f8f9fa; padding: 15px; border-radius: 5px; border-left: 4px solid #3498db;">
crawl_tools/
‚îú‚îÄ‚îÄ crawl_bot.py              # Main crawl script (production)
‚îú‚îÄ‚îÄ utils.py                  # Helper functions (crawl_gold_price_24h)
‚îú‚îÄ‚îÄ crawl_historical_backup.py # One-time historical data backfill
‚îî‚îÄ‚îÄ crawl_technical_document.html # This documentation file

.github/
‚îî‚îÄ‚îÄ workflows/
    ‚îî‚îÄ‚îÄ daily-crawl.yml       # GitHub Actions automation config
        </pre>
    </div>

    <!-- CONTACT & CHANGELOG -->
    <h2>üìù Changelog & Roadmap</h2>
    <div class="section">
        <table>
            <thead>
                <tr>
                    <th>Ng√†y</th>
                    <th>S·ª± ki·ªán</th>
                    <th>Tr·∫°ng th√°i</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>2025-12-29</td>
                    <td>Tri·ªÉn khai GitHub Actions daily crawl automation</td>
                    <td class="status-active">‚úÖ HO√ÄN TH√ÄNH</td>
                </tr>
                <tr>
                    <td>2025-12-XX</td>
                    <td>Kh·ªüi t·∫°o 3 b·∫£ng: gold, silver, SBV interbank rate</td>
                    <td class="status-active">‚úÖ HO√ÄN TH√ÄNH</td>
                </tr>
                <tr>
                    <td>2026-01-05</td>
                    <td>T·∫°o t√†i li·ªáu k·ªπ thu·∫≠t (document n√†y)</td>
                    <td class="status-active">‚úÖ HO√ÄN TH√ÄNH</td>
                </tr>
                <tr>
                    <td>2026-Q1</td>
                    <td>Tri·ªÉn khai vn_bank_termdepo_rates (Phase 1: 4 ng√¢n h√†ng)</td>
                    <td class="status-planned">‚è≥ K·∫æ HO·∫†CH</td>
                </tr>
                <tr>
                    <td>2026-Q1</td>
                    <td>Tri·ªÉn khai vn_news_sentiment (Phase 1: title crawl)</td>
                    <td class="status-planned">‚è≥ K·∫æ HO·∫†CH</td>
                </tr>
                <tr>
                    <td>2026-Q2</td>
                    <td>Migration sang schema macro_crawling</td>
                    <td class="status-planned">‚è≥ K·∫æ HO·∫†CH</td>
                </tr>
                <tr>
                    <td>2026-Q2</td>
                    <td>M·ªü r·ªông vn_bank_termdepo_rates (Phase 2: 4 ng√¢n h√†ng c√≤n l·∫°i)</td>
                    <td class="status-planned">‚è≥ K·∫æ HO·∫†CH</td>
                </tr>
                <tr>
                    <td>2026-Q2</td>
                    <td>T√≠ch h·ª£p sentiment analysis cho news data</td>
                    <td class="status-planned">‚è≥ K·∫æ HO·∫†CH</td>
                </tr>
            </tbody>
        </table>
    </div>

    <hr style="margin: 40px 0; border: none; border-top: 2px solid #3498db;">

    <div style="text-align: center; color: #7f8c8d; font-size: 0.9em;">
        <p><strong>Macro Crawling System</strong> - Ph√°t tri·ªÉn b·ªüi nguyenphamdieuhien.online</p>
        <p>Last updated: 2026-01-05 | Version: 1.0.0</p>
    </div>
</body>
</html>

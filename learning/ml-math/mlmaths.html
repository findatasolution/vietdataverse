<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Machine Learning Mathematics - Home</title>
  <link rel="stylesheet" href="../ml_book_shared-assets/styles.css">
  <link rel="stylesheet" href="../ml_book_shared-assets/custom-styles.css">
  <link rel="stylesheet" href="../ml_book_shared-assets/nav-styles.css">
  <link rel="stylesheet" href="../ml_book_shared-assets/chatgpt-styles.css">
  <link rel="stylesheet" href="../ml_book_shared-assets/responsive-fix.css">
</head>
<body>

<!-- Header -->
<div class="header">
  <h1 id="bookTitle">Machine Learning Mathematics</h1>
  <p id="bookSubtitle">Nguyen Pham Dieu Hien</p>
</div>

<!-- Sidebar Navigation -->
<div class="sidebar" id="sidebar">
  <!-- Will be populated by navigation.js -->
</div>

<!-- Toggle Sidebar Button (Mobile) -->
<button class="toggle-sidebar" id="toggleSidebar">â˜° Menu</button>

<!-- Main Content -->
<div class="main-content">
  <div class="content-wrapper">

    <!-- Parts Grid -->
    <div class="parts-grid" id="partsGrid">
      <!-- Will be populated by JavaScript -->
    </div>

</div>
<script src="../ml_book_shared-assets/navigation.js"></script>
<script src="../ml_book_shared-assets/navigation-collapsible.js"></script>
<script src="../ml_book_shared-assets/math-config.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script>
  // Populate parts grid after config is loaded
  document.addEventListener('DOMContentLoaded', async () => {
    // Wait for navigation system to load config
    await new Promise(resolve => setTimeout(resolve, 100));

    if (navSystem && navSystem.config) {
      const partsGrid = document.getElementById('partsGrid');
      const bookTitle = document.getElementById('bookTitle');
      const bookSubtitle = document.getElementById('bookSubtitle');

      // Update titles
      bookTitle.textContent = navSystem.config.bookTitle;
      bookSubtitle.textContent = navSystem.config.bookSubtitle;
      document.title = `${navSystem.config.bookTitle} - Home`;

      // Build parts grid with part numbers
      let html = '';
      navSystem.config.parts.forEach((part, partIndex) => {
        const partNumber = partIndex + 1;
        html += `
          <div class="part-card">
            <div class="part-badge">Part ${partNumber}</div>
            <h2>${part.title}</h2>
            <div class="chapter-count">${part.chapters.length} Chapter${part.chapters.length > 1 ? 's' : ''}</div>
            <ul>
        `;

        part.chapters.forEach(chapter => {
          html += `
            <li>
              <a href="${chapter.id}.html">
                <span class="chapter-number-badge">Ch ${chapter.chapterNumber}</span>
                <span class="chapter-title">${chapter.title}</span>
              </a>
            </li>
          `;
        });

        html += `
            </ul>
          </div>
        `;
      });

      partsGrid.innerHTML = html;
    }
  });
  document.addEventListener("DOMContentLoaded", function() {
    const collapsibles = document.querySelectorAll(".collapsible");
    collapsibles.forEach(header => {
      header.addEventListener("click", function() {
        const content = this.nextElementSibling;
        if (content.style.display === "block") {
          content.style.display = "none";
        } else {
          content.style.display = "block";
        }
      });
    });
  });

</script>

</body>
</html>

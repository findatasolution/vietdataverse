<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 5: Sequences & Relations - ML Mathematics</title>
  <link rel="stylesheet" href="../ml_book_shared-assets/styles.css">
  <link rel="stylesheet" href="../ml_book_shared-assets/custom-styles.css">
  <link rel="stylesheet" href="../ml_book_shared-assets/nav-styles.css">
  <link rel="stylesheet" href="../ml_book_shared-assets/chatgpt-styles.css">
  <link rel="stylesheet" href="../ml_book_shared-assets/responsive-fix.css">
</head>
<body>

<!-- Header -->
<div class="header">
  <h1 id="bookTitle">Machine Learning Mathematics</h1>
</div>

<!-- Sidebar Navigation -->
<div class="sidebar" id="sidebar">
  <!-- Will be populated by navigation.js -->
</div>

<!-- Toggle Sidebar Button (Mobile) -->
<button class="toggle-sidebar" id="toggleSidebar">☰ Menu</button>

<!-- Main Content -->
<div class="main-content">
  <div class="content-wrapper">

    <!-- Chapter Content -->
    <h1><span class="chapter-number">Chapter 5</span>Sequences & Relations</h1>

    <h2 class="collapsible">1. Sequences & Strings</h2>
    <div class="collapsible-content">
      <h3>1.1 Sequences</h3>
      <p>
        A <strong>sequence</strong> is an ordered list of elements. Unlike sets, order matters and repetition is allowed.
      </p>

      <div style="background-color: #f8f9fa; padding: 20px; border-left: 4px solid #667eea; margin: 20px 0;">
        <p><strong>Notation:</strong></p>
        <ul>
          <li>Finite sequence: $a_1, a_2, a_3, \ldots, a_n$</li>
          <li>Infinite sequence: $a_1, a_2, a_3, \ldots$ or $\{a_n\}_{n=1}^{\infty}$</li>
          <li>General term: $a_n = f(n)$ where $n$ is the index</li>
        </ul>
      </div>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h5>Example 1.1: Common Sequences</h5>
        <ul>
          <li><strong>Natural numbers:</strong> $1, 2, 3, 4, 5, \ldots$ where $a_n = n$</li>
          <li><strong>Even numbers:</strong> $2, 4, 6, 8, \ldots$ where $a_n = 2n$</li>
          <li><strong>Squares:</strong> $1, 4, 9, 16, 25, \ldots$ where $a_n = n^2$</li>
          <li><strong>Powers of 2:</strong> $2, 4, 8, 16, 32, \ldots$ where $a_n = 2^n$</li>
        </ul>
      </div>

      <h3>1.2 Strings</h3>
      <p>
        A <strong>string</strong> is a finite sequence of symbols from an alphabet $\Sigma$.
      </p>

      <div style="background-color: #f8f9fa; padding: 20px; border-left: 4px solid #667eea; margin: 20px 0;">
        <p><strong>String Operations:</strong></p>
        <ul>
          <li><strong>Length:</strong> $|s|$ = number of symbols in string $s$</li>
          <li><strong>Empty string:</strong> $\lambda$ or $\epsilon$ with length $0$</li>
          <li><strong>Concatenation:</strong> $s \cdot t$ or $st$ = append $t$ to end of $s$</li>
          <li><strong>Power:</strong> $s^n$ = $s$ concatenated $n$ times</li>
        </ul>
      </div>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h5>Example 1.2: String Operations</h5>
        <p>Let $\Sigma = \{a, b, c\}$, $s = \text{"ab"}$, $t = \text{"ca"}$</p>
        <ul>
          <li>$|s| = 2$, $|t| = 2$</li>
          <li>$st = \text{"abca"}$, $|st| = 4$</li>
          <li>$ts = \text{"caab"}$, $|ts| = 4$</li>
          <li>$s^3 = \text{"ababab"}$, $|s^3| = 6$</li>
          <li>$s \cdot \epsilon = \epsilon \cdot s = s$</li>
        </ul>
      </div>

      <h3>1.3 Formal Languages</h3>
      <p>
        A <strong>language</strong> $L$ over alphabet $\Sigma$ is a set of strings formed from $\Sigma$.
      </p>

      <div style="background-color: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; margin: 15px 0;">
        <strong>ML Application:</strong> Formal languages are used in:
        <ul>
          <li><strong>Natural Language Processing:</strong> Tokenization, grammar parsing</li>
          <li><strong>Regular Expressions:</strong> Pattern matching in text data</li>
          <li><strong>Programming Languages:</strong> Syntax definition, compilers</li>
        </ul>
      </div>
    </div>

    <h2 class="collapsible">2. Relations</h2>
    <div class="collapsible-content">
      <h3>2.1 Definition</h3>
      <p>
        A <strong>relation</strong> $R$ from set $A$ to set $B$ is a subset of the Cartesian product $A \times B$.
      </p>
      <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 15px 0;">
        $$R \subseteq A \times B$$
        $$(a, b) \in R \text{ or } a \, R \, b \text{ means "} a \text{ is related to } b \text{"}$$
      </div>

      <p>When $A = B$, we call $R$ a <strong>relation on</strong> $A$.</p>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h5>Example 2.1: Relations</h5>
        <p>Let $A = \{1, 2, 3, 4\}$</p>
        <ul>
          <li><strong>"Less than" relation:</strong> $R = \{(1,2), (1,3), (1,4), (2,3), (2,4), (3,4)\}$</li>
          <li><strong>"Divides" relation:</strong> $R = \{(1,1), (1,2), (1,3), (1,4), (2,2), (2,4), (3,3), (4,4)\}$</li>
          <li><strong>"Equals" relation:</strong> $R = \{(1,1), (2,2), (3,3), (4,4)\}$</li>
        </ul>
      </div>

      <h3>2.2 Properties of Relations</h3>
      <p>A relation $R$ on set $A$ can have the following properties:</p>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
        <div style="background-color: #e7f3ff; padding: 20px; border-radius: 8px;">
          <h4 style="color: #667eea;">Reflexive</h4>
          <p>Every element is related to itself</p>
          <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 10px 0;">
            $$\forall a \in A: (a,a) \in R$$
          </div>
          <p><strong>Example:</strong> "Equals" ($=$) is reflexive</p>
        </div>

        <div style="background-color: #fff3e0; padding: 20px; border-radius: 8px;">
          <h4 style="color: #ff9800;">Symmetric</h4>
          <p>If $a$ relates to $b$, then $b$ relates to $a$</p>
          <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 10px 0;">
            $$(a,b) \in R \implies (b,a) \in R$$
          </div>
          <p><strong>Example:</strong> "Is sibling of" is symmetric</p>
        </div>

        <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px;">
          <h4 style="color: #4caf50;">Transitive</h4>
          <p>If $a$ relates to $b$ and $b$ relates to $c$, then $a$ relates to $c$</p>
          <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 10px 0;">
            $$(a,b) \in R \land (b,c) \in R \implies (a,c) \in R$$
          </div>
          <p><strong>Example:</strong> "Less than" ($<$) is transitive</p>
        </div>

        <div style="background-color: #f3e5f5; padding: 20px; border-radius: 8px;">
          <h4 style="color: #9c27b0;">Antisymmetric</h4>
          <p>If $a$ relates to $b$ and $b$ relates to $a$, then $a = b$</p>
          <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 10px 0;">
            $$(a,b) \in R \land (b,a) \in R \implies a = b$$
          </div>
          <p><strong>Example:</strong> "Less than or equal" ($\leq$) is antisymmetric</p>
        </div>
      </div>

      <h3>2.3 Digraphs (Directed Graphs)</h3>
      <p>
        Relations can be visualized using <strong>directed graphs</strong>:
      </p>
      <ul>
        <li>Elements of set $A$ are represented as <strong>vertices</strong></li>
        <li>$(a, b) \in R$ is represented as a <strong>directed edge</strong> from $a$ to $b$</li>
        <li>$(a, a) \in R$ is represented as a <strong>loop</strong> at vertex $a$</li>
      </ul>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h5>Example 2.2: Digraph Properties</h5>
        <p>In a digraph representation:</p>
        <ul>
          <li><strong>Reflexive:</strong> Every vertex has a loop</li>
          <li><strong>Symmetric:</strong> Every edge has a reverse edge</li>
          <li><strong>Transitive:</strong> If there's a path from $a$ to $b$ to $c$, there's a direct edge from $a$ to $c$</li>
        </ul>
      </div>
    </div>

    <h2 class="collapsible">3. Equivalence Relations</h2>
    <div class="collapsible-content">
      <h3>3.1 Definition</h3>
      <p>
        A relation $R$ on set $A$ is an <strong>equivalence relation</strong> if it is:
      </p>
      <ul style="line-height: 2;">
        <li>✓ Reflexive</li>
        <li>✓ Symmetric</li>
        <li>✓ Transitive</li>
      </ul>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h5>Example 3.1: Equivalence Relations</h5>
        <ul>
          <li><strong>Equality:</strong> $a = b$ on any set</li>
          <li><strong>Congruence modulo $n$:</strong> $a \equiv b \pmod{n}$ on integers</li>
          <li><strong>Same remainder:</strong> $a$ and $b$ have same remainder when divided by $5$</li>
        </ul>
      </div>

      <h3>3.2 Equivalence Classes</h3>
      <p>
        The <strong>equivalence class</strong> of element $a$ is the set of all elements related to $a$:
      </p>
      <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 15px 0;">
        $$[a] = \{x \in A : x \, R \, a\}$$
      </div>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h5>Example 3.2: Equivalence Classes mod 3</h5>
        <p>Let $R$ be "congruence modulo 3" on $\mathbb{Z}$</p>
        <p>The equivalence classes are:</p>
        <ul>
          <li>$[0] = \{\ldots, -6, -3, 0, 3, 6, 9, \ldots\}$ (multiples of 3)</li>
          <li>$[1] = \{\ldots, -5, -2, 1, 4, 7, 10, \ldots\}$ (remainder 1)</li>
          <li>$[2] = \{\ldots, -4, -1, 2, 5, 8, 11, \ldots\}$ (remainder 2)</li>
        </ul>
        <p>These three classes <strong>partition</strong> the integers.</p>
      </div>

      <div style="background-color: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; margin: 15px 0;">
        <strong>ML Application:</strong> Equivalence classes are used in:
        <ul>
          <li><strong>Clustering:</strong> Grouping similar data points</li>
          <li><strong>Classification:</strong> Partitioning data into categories</li>
          <li><strong>Feature engineering:</strong> Binning continuous variables</li>
        </ul>
      </div>
    </div>

    <h2 class="collapsible">4. Relation Operations</h2>
    <div class="collapsible-content">
      <h3>4.1 Composition of Relations</h3>
      <p>
        If $R_1 \subseteq A \times B$ and $R_2 \subseteq B \times C$, the <strong>composition</strong> $R_2 \circ R_1$ is:
      </p>
      <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 15px 0;">
        $$R_2 \circ R_1 = \{(a,c) : \exists b \in B, (a,b) \in R_1 \land (b,c) \in R_2\}$$
      </div>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h5>Example 4.1: Relation Composition</h5>
        <p>Let $A = \{1, 2, 3\}$, $B = \{a, b\}$, $C = \{x, y\}$</p>
        <p>$R_1 = \{(1,a), (2,a), (3,b)\}$ from $A$ to $B$</p>
        <p>$R_2 = \{(a,x), (b,y)\}$ from $B$ to $C$</p>

        <p><strong>Find $R_2 \circ R_1$:</strong></p>
        <ul>
          <li>$(1,a) \in R_1$ and $(a,x) \in R_2$ → $(1,x) \in R_2 \circ R_1$</li>
          <li>$(2,a) \in R_1$ and $(a,x) \in R_2$ → $(2,x) \in R_2 \circ R_1$</li>
          <li>$(3,b) \in R_1$ and $(b,y) \in R_2$ → $(3,y) \in R_2 \circ R_1$</li>
        </ul>
        <p>Therefore: $R_2 \circ R_1 = \{(1,x), (2,x), (3,y)\}$</p>
      </div>

      <h3>4.2 Matrix Representation of Relations</h3>
      <p>
        A relation $R$ from $A = \{a_1, \ldots, a_m\}$ to $B = \{b_1, \ldots, b_n\}$ can be represented as an $m \times n$ matrix $M_R$ where:
      </p>
      <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 15px 0;">
        $$
        M_R[i,j] =
        \begin{cases}
          1, & \text{if } (a_i, b_j) \in R \\
          0, & \text{otherwise}
        \end{cases}
        $$
      </div>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h5>Example 4.2: Matrix Representation</h5>
        <p>Let $A = \{1, 2, 3\}$, $R = \{(1,1), (1,2), (2,3), (3,1), (3,3)\}$</p>

        <p>Matrix representation:</p>
        <div style="background-color: #f4f4f4; padding: 15px; border-radius: 5px; margin: 15px 0;">
          $$
          M_R =
          \begin{bmatrix}
            1 & 1 & 0 \\
            0 & 0 & 1 \\
            1 & 0 & 1
          \end{bmatrix}
          $$
        </div>

        <p>Properties from matrix:</p>
        <ul>
          <li><strong>Reflexive?</strong> Check diagonal: $M_R[i,i] = 1$ for all $i$? → YES</li>
          <li><strong>Symmetric?</strong> Check if $M_R = M_R^T$? → NO (e.g., $M_R[1,2] = 1$ but $M_R[2,1] = 0$)</li>
        </ul>
      </div>

      <div style="background-color: #f8f9fa; padding: 20px; border-left: 4px solid #667eea; margin: 20px 0;">
        <p><strong>Matrix Operations for Relations:</strong></p>
        <ul>
          <li><strong>Union:</strong> $M_{R_1 \cup R_2} = M_{R_1} \lor M_{R_2}$ (element-wise OR)</li>
          <li><strong>Intersection:</strong> $M_{R_1 \cap R_2} = M_{R_1} \land M_{R_2}$ (element-wise AND)</li>
          <li><strong>Composition:</strong> $M_{R_2 \circ R_1} = M_{R_1} \odot M_{R_2}$ (Boolean matrix multiplication)</li>
        </ul>
      </div>
    </div>

    <h2 class="collapsible">5. Practice Problems</h2>
    <div class="collapsible-content">
      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h4>Practice 1: String Operations</h4>
        <p>Let $\Sigma = \{0, 1\}$, $s = \text{"101"}$, $t = \text{"01"}$</p>

        <p><strong>Find:</strong></p>
        <ol>
          <li>$|s|$ and $|t|$</li>
          <li>$st$</li>
          <li>$ts$</li>
          <li>$s^2$</li>
        </ol>

        <p><strong>Solution:</strong></p>
        <ol>
          <li>$|s| = 3$, $|t| = 2$</li>
          <li>$st = \text{"10101"}$</li>
          <li>$ts = \text{"01101"}$</li>
          <li>$s^2 = \text{"101101"}$</li>
        </ol>
      </div>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h4>Practice 2: Relation Properties</h4>
        <p>Determine which properties (reflexive, symmetric, transitive, antisymmetric) the following relations have on $\mathbb{Z}$:</p>

        <p><strong>a) $R = \{(a,b) : a \leq b\}$ (less than or equal)</strong></p>
        <p><strong>Solution:</strong></p>
        <ul>
          <li>Reflexive: $a \leq a$ for all $a$ → YES</li>
          <li>Symmetric: $2 \leq 3$ but $3 \not\leq 2$ → NO</li>
          <li>Transitive: If $a \leq b$ and $b \leq c$, then $a \leq c$ → YES</li>
          <li>Antisymmetric: If $a \leq b$ and $b \leq a$, then $a = b$ → YES</li>
        </ul>

        <p><strong>b) $R = \{(a,b) : |a - b| = 1\}$ (differ by 1)</strong></p>
        <p><strong>Solution:</strong></p>
        <ul>
          <li>Reflexive: $|a - a| = 0 \neq 1$ → NO</li>
          <li>Symmetric: If $|a - b| = 1$, then $|b - a| = 1$ → YES</li>
          <li>Transitive: $|2 - 3| = 1$ and $|3 - 4| = 1$, but $|2 - 4| = 2 \neq 1$ → NO</li>
          <li>Antisymmetric: NO (e.g., $2 R 3$ and $3 R 2$ but $2 \neq 3$)</li>
        </ul>
      </div>

      <div style="background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin: 20px 0;">
        <h4>Practice 3: Equivalence Classes</h4>
        <p>Let $R$ be the relation on $\mathbb{Z}$ where $a \, R \, b$ if $a \equiv b \pmod{4}$</p>

        <p><strong>Questions:</strong></p>
        <ol>
          <li>Show that $R$ is an equivalence relation</li>
          <li>Find all equivalence classes</li>
        </ol>

        <p><strong>Solution:</strong></p>
        <p>1. Verify equivalence properties:</p>
        <ul>
          <li>Reflexive: $a \equiv a \pmod{4}$ → YES</li>
          <li>Symmetric: If $a \equiv b \pmod{4}$, then $b \equiv a \pmod{4}$ → YES</li>
          <li>Transitive: If $a \equiv b \pmod{4}$ and $b \equiv c \pmod{4}$, then $a \equiv c \pmod{4}$ → YES</li>
        </ul>

        <p>2. Equivalence classes:</p>
        <ul>
          <li>$[0] = \{\ldots, -8, -4, 0, 4, 8, 12, \ldots\}$</li>
          <li>$[1] = \{\ldots, -7, -3, 1, 5, 9, 13, \ldots\}$</li>
          <li>$[2] = \{\ldots, -6, -2, 2, 6, 10, 14, \ldots\}$</li>
          <li>$[3] = \{\ldots, -5, -1, 3, 7, 11, 15, \ldots\}$</li>
        </ul>
      </div>
    </div>

    <!-- Page Navigation -->
    <div class="page-navigation" id="pageNavigation">
      <!-- Will be populated by navigation.js -->
    </div>

  </div>
</div>

<script src="../ml_book_shared-assets/navigation.js"></script>
<script src="../ml_book_shared-assets/navigation-collapsible.js"></script>
<script src="../ml_book_shared-assets/math-config.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
<script src="../ml_book_shared-assets/navigation-collapsible.js"></script>

<script>
  document.addEventListener("DOMContentLoaded", function() {
    const collapsibles = document.querySelectorAll(".collapsible");
    collapsibles.forEach(header => {
      header.addEventListener("click", function() {
        const content = this.nextElementSibling;
        if (content.style.display === "block") {
          content.style.display = "none";
        } else {
          content.style.display = "block";
        }
      });
    });
  });
</script>
</body>
</html>

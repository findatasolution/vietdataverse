<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <title>Viet Dataverse | Tải Dữ Liệu Kinh Tế Vĩ Mô Miễn Phí | Download Vietnam Historical Index</title> -->
    <title>Viet Dataverse | Dữ Liệu Kinh Tế Mở</title>
    <meta name="description" content="Tải lịch sử giá vàng SJC, DOJI, PNJ từ 2015 miễn phí. Download Vietnam historical gold price data, silver price, interest rate export free.">
    <meta name="keywords" content="vietdataverse, viet dataverse, VietDataverse, tải lịch sử giá vàng, download vietnam historical gold price, tải giá vàng, download gold price, lịch sử giá vàng sjc, vietnam gold price data, giá vàng, historical gold price vietnam, tải giá vàng miễn phí, free gold price data, vàng doji, gold price api vietnam, giá vàng export, download silver price vietnam, tải lịch sử giá bạc, tải lãi suất liên ngân hàng, lãi suất gửi tiết kiệm, lịch sử, dữ liệu miễn phí, free macro economic index">
    <meta name="author" content="Viet Dataverse">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="Vietnamese">
    <meta name="geo.region" content="VN">
    <meta name="geo.placename" content="Vietnam">
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/png" sizes="32x32" href="https://ik.imagekit.io/o2u9hny2s/vietdataverse/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://ik.imagekit.io/o2u9hny2s/vietdataverse/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="https://ik.imagekit.io/o2u9hny2s/vietdataverse/apple-touch-icon.png">
    <link rel="manifest" href="https://nguyenphamdieuhien.online/vietdataverse/manifest.json">
    <meta name="theme-color" content="#C9A55B">
    <meta name="msapplication-TileColor" content="#C9A55B">

    <link rel="canonical" href="https://nguyenphamdieuhien.online/vietdataverse/">
    <link rel="alternate" hreflang="vi" href="https://nguyenphamdieuhien.online/vietdataverse/">
    <link rel="alternate" hreflang="en" href="https://nguyenphamdieuhien.online/vietdataverse/">
    <link rel="alternate" hreflang="x-default" href="https://nguyenphamdieuhien.online/vietdataverse/">

    <!-- Open Graph for social sharing -->
    <meta property="og:site_name" content="Viet Dataverse">
    <meta property="og:title" content="Tải Lịch Sử Giá Vàng Việt Nam Miễn Phí | Download Vietnam Gold Price Data">
    <meta property="og:description" content="Download Vietnam historical gold price CSV miễn phí từ 2015. Tải lịch sử giá vàng SJC, DOJI, PNJ, giá bạc Phú Quý, lãi suất ngân hàng. API & export.">
    <meta property="og:image" content="https://ik.imagekit.io/o2u9hny2s/vietdataverse/V2.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Viet Dataverse - Vietnam Economic Data Platform">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://nguyenphamdieuhien.online/vietdataverse/">
    <meta property="og:locale" content="vi_VN">
    <meta property="og:locale:alternate" content="en_US">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@VietDataverse">
    <meta name="twitter:creator" content="@VietDataverse">
    <meta name="twitter:title" content="Tải Lịch Sử Giá Vàng Vietnam | Download Historical Gold Price CSV">
    <meta name="twitter:description" content="Download Vietnam historical gold price data CSV free. Tải lịch sử giá vàng SJC, DOJI từ 2015. API & export miễn phí.">
    <meta name="twitter:image" content="https://ik.imagekit.io/o2u9hny2s/vietdataverse/V2.png">
    <meta name="twitter:image:alt" content="Viet Dataverse Logo">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-B9BHYSYDES"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-B9BHYSYDES');
    </script>

    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Viet Dataverse",
      "alternateName": ["VietDataverse", "vietdataverse", "Giá Vàng Hôm Nay - Dữ Liệu Kinh Tế Việt Nam"],
      "url": "https://nguyenphamdieuhien.online/vietdataverse/",
      "description": "Theo dõi giá vàng SJC hôm nay, giá bạc Phú Quý, lãi suất ngân hàng SBV. Tải dữ liệu lịch sử miễn phí.",
      "inLanguage": "vi-VN",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://nguyenphamdieuhien.online/vietdataverse/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Dataset",
      "name": "Tải Lịch Sử Giá Vàng Việt Nam - Download Vietnam Historical Gold Price",
      "description": "Tải lịch sử giá vàng SJC, DOJI, PNJ từ 2015 miễn phí. Download Vietnam historical gold price data với cập nhật 2 lần mỗi ngày. Hỗ trợ API và CSV export.",
      "url": "https://nguyenphamdieuhien.online/vietdataverse/",
      "keywords": ["tải lịch sử giá vàng", "download vietnam historical gold price", "giá vàng csv", "vietnam gold price data", "lịch sử giá vàng sjc", "gold price api vietnam"],
      "creator": {
        "@type": "Organization",
        "name": "Viet Dataverse"
      },
      "distribution": [
        {
          "@type": "DataDownload",
          "encodingFormat": "CSV",
          "contentUrl": "https://api.nguyenphamdieuhien.online/api/v1/gold",
          "name": "Tải dữ liệu giá vàng CSV",
          "description": "Download Vietnam gold price historical data"
        },
        {
          "@type": "DataDownload",
          "encodingFormat": "application/json",
          "contentUrl": "https://api.nguyenphamdieuhien.online/api/v1/gold",
          "name": "Gold Price API",
          "description": "RESTful API for Vietnam historical gold prices"
        }
      ],
      "temporalCoverage": "2015/..",
      "spatialCoverage": {
        "@type": "Place",
        "name": "Vietnam"
      }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Dataset",
      "name": "Dữ Liệu Giá Bạc Phú Quý Việt Nam",
      "description": "Lịch sử giá bạc thỏi Phú Quý tại thị trường Việt Nam, cập nhật 2 lần mỗi ngày từ nguồn công khai",
      "url": "https://nguyenphamdieuhien.online/vietdataverse/",
      "keywords": ["giá bạc", "giá bạc hôm nay", "bạc Phú Quý", "giá bạc thỏi"],
      "creator": {
        "@type": "Organization",
        "name": "Viet Dataverse"
      },
      "distribution": {
        "@type": "DataDownload",
        "encodingFormat": "CSV",
        "contentUrl": "https://api.nguyenphamdieuhien.online/api/v1/silver"
      }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Giá vàng SJC hôm nay là bao nhiêu?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Viet Dataverse cung cấp giá vàng trong nước được cập nhật hàng ngày. Bạn có thể xem biểu đồ lịch sử và tải dữ liệu miễn phí."
          }
        },
        {
          "@type": "Question",
          "name": "Làm thế nào để tải lịch sử giá vàng Việt Nam?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Tại Viet Dataverse, bạn có thể tải lịch sử giá vàng SJC, DOJI, PNJ từ 2015 hoàn toàn miễn phí. Click vào nút 'Download' trong mục Download Datasets hoặc truy cập API tại https://api.nguyenphamdieuhien.online/api/v1/gold"
          }
        },
        {
          "@type": "Question",
          "name": "How to download Vietnam historical gold price data?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Download Vietnam historical gold price free at Viet Dataverse. Click 'Download' button in Download Datasets section or access API at https://api.nguyenphamdieuhien.online/api/v1/gold. Data includes SJC, DOJI, PNJ prices from 2015."
          }
        },
        {
          "@type": "Question",
          "name": "Lãi suất liên ngân hàng SBV là gì?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Lãi suất liên ngân hàng SBV là lãi suất mà các ngân hàng thương mại cho vay lẫn nhau, được Ngân hàng Nhà nước Việt Nam công bố. Dữ liệu cập nhật hàng ngày tại Viet Dataverse."
          }
        }
      ]
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "BreadcrumbList",
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Trang chủ",
          "item": "https://nguyenphamdieuhien.online/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Dữ Liệu Kinh Tế Việt Nam",
          "item": "https://nguyenphamdieuhien.online/vietdataverse/"
        }
      ]
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Viet Dataverse",
      "alternateName": ["VietDataverse", "vietdataverse", "Viet Dataverse"],
      "url": "https://nguyenphamdieuhien.online/vietdataverse/",
      "logo": {
        "@type": "ImageObject",
        "url": "https://ik.imagekit.io/o2u9hny2s/vietdataverse/icon-512.png",
        "width": 512,
        "height": 512
      },
      "description": "Nền tảng dữ liệu kinh tế Việt Nam minh bạch, cung cấp giá vàng, giá bạc, lãi suất ngân hàng và các chỉ số thị trường",
      "sameAs": [
        "https://github.com/Hiienng/nguyenphamdieuhien.online"
      ]
    }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --gold-primary: #C9A55B;
            --gold-accent: #E4C78A;
            --gold-dark: #8B7355;
            --silver: #B8B8B8;
            --silver-light: #D4D4D4;
            --bg-dark: #0A0A0A;
            --bg-secondary: #141414;
            --bg-elevated: #1C1C1C;
            --text-primary: #FFFFFF;
            --text-secondary: #A0A0A0;
            --text-tertiary: #707070;
            --border-color: rgba(201, 165, 91, 0.15);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.4);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.5);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.6);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .app-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            grid-template-rows: 80px 1fr;
            min-height: 100vh;
            max-width: 2000px;
            margin: 0 auto;
        }

        /* Mobile menu toggle */
        .mobile-menu-btn {
            display: none;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 0.625rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.25rem;
            transition: all 0.2s ease;
        }

        .mobile-menu-btn:hover {
            border-color: var(--gold-primary);
            color: var(--gold-accent);
        }

        .mobile-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            z-index: 199;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .mobile-overlay.active {
            display: block;
            opacity: 1;
            pointer-events: auto;
        }

        /* Header */
        .app-header {
            grid-column: 1 / -1;
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-dark) 100%);
            border-bottom: 1px solid var(--border-color);
            padding: 0 3rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            backdrop-filter: blur(20px);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 1.25rem;
        }

        .brand-icon {
            width: 44px;
            height: 44px;
            /* background: linear-gradient(135deg, var(--gold-primary) 0%, var(--gold-accent) 100%); */
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            /* box-shadow: 0 4px 12px rgba(201, 165, 91, 0.3); */
            overflow: hidden;
        }

        .brand-icon img {
            width: 120%;
            height: 120%;
            object-fit: contain;
            padding: 4px;
        }

        .brand-text h1 {
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            font-weight: 700;
            letter-spacing: -0.02em;
            /* background: linear-gradient(135deg, var(--gold-accent) 0%, var(--gold-primary) 100%); */
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.125rem;
        }

        .brand-subtitle {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .header-actions {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .header-btn {
            padding: 0.625rem 1.25rem;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .header-btn:hover {
            border-color: var(--gold-primary);
            color: var(--gold-accent);
        }

        .header-btn.primary {
            background: linear-gradient(135deg, var(--gold-primary), var(--gold-accent));
            border: none;
            color: var(--bg-dark);
        }

        .header-btn.primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(201, 165, 91, 0.4);
        }

        .header-btn.danger {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #EF4444;
        }

        .header-btn.danger:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.5);
            color: #EF4444;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(201, 165, 91, 0.1);
            border: 1px solid rgba(201, 165, 91, 0.2);
            border-radius: 8px;
            font-size: 0.875rem;
            color: var(--gold-accent);
        }

        .user-avatar {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, var(--gold-primary), var(--gold-accent));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--bg-dark);
        }

        /* Sidebar */
        .sidebar {
            background-color: var(--bg-secondary);
            border-right: 1px solid var(--border-color);
            padding: 2rem 1.5rem;
            overflow-y: auto;
        }

        .sidebar-section {
            margin-bottom: 2.5rem;
        }

        .sidebar-heading {
            font-size: 0.6875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            color: var(--text-tertiary);
            margin-bottom: 1rem;
            padding: 0 0.75rem;
        }

        /* Sidebar buttons */
        .sidebar-btn {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }

        .sidebar-btn:hover {
            border-color: var(--gold-primary);
            background: rgba(201, 165, 91, 0.05);
            color: var(--gold-accent);
        }

        .sidebar-btn.primary {
            background: rgba(201, 165, 91, 0.15);
            border-color: var(--gold-primary);
            color: var(--gold-accent);
        }

        .sidebar-btn.danger {
            background: rgba(239, 68, 68, 0.1);
            border-color: rgba(239, 68, 68, 0.3);
            color: #EF4444;
        }

        .sidebar-btn.danger:hover {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.5);
        }

        .sidebar-link {
            text-decoration: none;
            display: block;
        }

        .sidebar-user-info {
            padding: 0.75rem 1rem;
            background: rgba(201, 165, 91, 0.1);
            border: 1px solid rgba(201, 165, 91, 0.2);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }

        .sidebar-user-email {
            font-size: 0.875rem;
            color: var(--gold-accent);
            font-weight: 500;
            word-break: break-all;
        }

        /* Mobile only elements */
        .mobile-only {
            display: none;
        }

        .nav-list {
            list-style: none;
        }

        .nav-item {
            margin-bottom: 0.375rem;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.875rem;
            padding: 0.75rem;
            border-radius: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9375rem;
            font-weight: 500;
            transition: all 0.2s ease;
            position: relative;
            cursor: pointer;
        }

        .nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 0;
            background: var(--gold-primary);
            border-radius: 0 2px 2px 0;
            transition: height 0.2s ease;
        }

        .nav-link:hover,
        .nav-link.active {
            background-color: rgba(201, 165, 91, 0.08);
            color: var(--text-primary);
        }

        .nav-link.active::before {
            height: 60%;
        }

        .nav-icon {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            font-size: 1rem;
            flex-shrink: 0;
        }

        .nav-link.active .nav-icon {
            background: linear-gradient(135deg, rgba(201, 165, 91, 0.2), rgba(228, 199, 138, 0.2));
        }

        .nav-content {
            flex: 1;
        }

        .nav-content h4 {
            font-size: 0.9375rem;
            font-weight: 500;
            margin-bottom: 0.125rem;
        }

        .nav-meta {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            font-weight: 400;
        }

        /* Subnav for articles - Always visible */
        .subnav-list {
            list-style: none;
            max-height: none;
            overflow: visible;
            margin-left: 1rem;
            margin-top: 0.5rem;
        }

        .subnav-item {
            margin-bottom: 0.25rem;
        }

        .subnav-item .nav-link {
            padding: 0.625rem 0.75rem;
            font-size: 0.875rem;
        }

        .subnav-item .nav-link::before {
            display: none;
        }

        .subnav-item .nav-content h4 {
            font-size: 0.875rem;
            font-weight: 400;
            line-height: 1.4;
        }

        /* Main Content */
        .main-content {
            padding: 3rem;
            overflow-y: auto;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Article View */
        .article-featured {
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            overflow: hidden;
            margin-bottom: 3rem;
        }

        .article-header {
            padding: 2.5rem 3rem 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .article-tag {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(201, 165, 91, 0.1);
            border: 1px solid rgba(201, 165, 91, 0.2);
            border-radius: 6px;
            font-size: 0.8125rem;
            font-weight: 600;
            color: var(--gold-accent);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1.5rem;
        }

        .article-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.75rem;
            font-weight: 700;
            line-height: 1.2;
            color: var(--text-primary);
            margin-bottom: 1.25rem;
            letter-spacing: -0.02em;
        }

        .article-meta {
            display: flex;
            align-items: center;
            gap: 2rem;
            color: var(--text-tertiary);
            font-size: 0.875rem;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .meta-item i {
            color: var(--gold-primary);
            font-size: 0.875rem;
        }

        .article-body {
            padding: 2.5rem 3rem;
        }

        .article-text {
            font-size: 1.0625rem;
            line-height: 1.8;
            color: var(--text-secondary);
        }

        .article-text p {
            margin-bottom: 1.5rem;
        }

        .article-text strong {
            color: var(--text-primary);
            font-weight: 600;
        }

        /* Live Indicators View */
        .indicators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .indicator-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            transition: all 0.3s ease;
        }

        .indicator-card:hover {
            border-color: rgba(201, 165, 91, 0.3);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .indicator-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .indicator-icon {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            background: linear-gradient(135deg, rgba(201, 165, 91, 0.15), rgba(228, 199, 138, 0.15));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .indicator-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .indicator-value {
            font-family: 'Playfair Display', serif;
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--gold-accent);
            margin-bottom: 0.5rem;
        }

        .indicator-change {
            font-size: 0.875rem;
            color: var(--text-tertiary);
        }

        .indicator-change.positive {
            color: #22C55E;
        }

        .indicator-change.negative {
            color: #EF4444;
        }

        .indicator-meta {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        /* Data Portal View */
        .section-header {
            margin-bottom: 3rem;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.75rem;
            letter-spacing: -0.02em;
        }

        .section-subtitle {
            font-size: 1.0625rem;
            color: var(--text-tertiary);
            max-width: 720px;
        }

        .datasets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .dataset-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .dataset-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--gold-primary), var(--gold-accent));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease;
        }

        .dataset-card:hover {
            border-color: rgba(201, 165, 91, 0.3);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .dataset-card:hover::before {
            transform: scaleX(1);
        }

        .dataset-card.disabled {
            opacity: 0.5;
        }

        .dataset-card.disabled:hover {
            transform: none;
            border-color: var(--border-color);
        }

        .dataset-top {
            display: flex;
            align-items: flex-start;
            gap: 1.25rem;
            margin-bottom: 1.5rem;
        }

        /* Dataset icon removed for cleaner design */

        .dataset-info h3 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .dataset-desc {
            font-size: 0.9375rem;
            color: var(--text-tertiary);
            line-height: 1.6;
            margin-bottom: 1.25rem;
        }

        .dataset-stats {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8125rem;
            color: var(--text-tertiary);
        }

        .stat-item i {
            color: var(--gold-primary);
            font-size: 0.875rem;
        }

        .dataset-actions {
            display: flex;
            gap: 0.75rem;
        }

        .btn {
            flex: 1;
            padding: 0.75rem 1.25rem;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            text-decoration: none;
            border: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--gold-primary), var(--gold-accent));
            color: var(--bg-dark);
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(201, 165, 91, 0.4);
        }

        .btn-secondary {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .btn-secondary:hover {
            border-color: var(--gold-primary);
            color: var(--gold-accent);
            background: rgba(201, 165, 91, 0.05);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .api-section {
            background: rgba(201, 165, 91, 0.05);
            border: 1px solid rgba(201, 165, 91, 0.15);
            border-radius: 12px;
            padding: 2.5rem;
        }

        .api-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .api-header h3 {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .api-description {
            color: var(--text-tertiary);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .api-endpoints {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .api-endpoint {
            background: var(--bg-dark);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1rem 1.25rem;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 0.875rem;
            color: var(--gold-accent);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .method {
            color: #22C55E;
            font-weight: 700;
            font-size: 0.75rem;
        }

        .api-footer {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            color: var(--text-tertiary);
        }

        .api-footer a {
            color: var(--gold-accent);
            text-decoration: none;
            font-weight: 500;
        }

        .api-footer a:hover {
            text-decoration: underline;
        }

        /* Charts Section */
        .charts-section {
            margin-bottom: 3rem;
        }

        .chart-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .chart-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .chart-filters {
            display: flex;
            gap: 0.5rem;
            background: rgba(201, 165, 91, 0.05);
            padding: 0.375rem;
            border-radius: 8px;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: transparent;
            border: none;
            border-radius: 6px;
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-btn:hover {
            color: var(--text-primary);
            background: rgba(201, 165, 91, 0.1);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, var(--gold-primary), var(--gold-accent));
            color: var(--bg-dark);
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin-top: 1rem;
            touch-action: pan-y;
            user-select: none;
        }

        .chart-container canvas {
            cursor: pointer;
        }

        .chart-loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--text-tertiary);
            font-size: 0.875rem;
        }

        .chart-error {
            padding: 2rem;
            text-align: center;
            color: var(--text-tertiary);
            background: rgba(239, 68, 68, 0.1);
            border-radius: 8px;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gold-dark);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gold-primary);
        }

        /* Notification Overlay */
        .notification-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .notification-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .notification-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            margin: 1rem;
            box-shadow: var(--shadow-lg);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .notification-overlay.active .notification-card {
            transform: translateY(0);
        }

        .notification-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--gold-primary), var(--gold-accent));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 1.5rem;
            color: var(--bg-dark);
        }

        .notification-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            text-align: center;
            margin-bottom: 0.75rem;
            letter-spacing: -0.02em;
        }

        .notification-message {
            color: var(--text-secondary);
            text-align: center;
            line-height: 1.6;
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }

        .notification-actions {
            display: flex;
            gap: 0.75rem;
            justify-content: center;
        }

        .notification-btn {
            flex: 1;
            padding: 0.875rem 1.5rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            min-width: 100px;
        }

        .notification-btn.primary {
            background: linear-gradient(135deg, var(--gold-primary), var(--gold-accent));
            color: var(--bg-dark);
        }

        .notification-btn.primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(201, 165, 91, 0.4);
        }

        .notification-btn.secondary {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .notification-btn.secondary:hover {
            border-color: var(--gold-primary);
            color: var(--gold-accent);
        }

        /* Responsive */
        @media (max-width: 1200px) {
            .app-container {
                grid-template-columns: 280px 1fr;
            }

            .datasets-grid {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            }

            .indicators-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
        }

        @media (max-width: 968px) {
            .app-container {
                grid-template-columns: 1fr;
                grid-template-rows: 70px 1fr;
            }

            .mobile-menu-btn {
                display: block;
            }

            .sidebar {
                position: fixed;
                top: 70px;
                left: -100%;
                width: 280px;
                height: calc(100vh - 70px);
                background-color: var(--bg-secondary);
                border-right: 1px solid var(--border-color);
                padding: 1.5rem;
                transition: left 0.3s ease;
                z-index: 200;
                overflow-y: auto;
            }

            .sidebar.active {
                left: 0;
            }

            .app-header {
                padding: 0 1rem;
                height: 70px;
            }

            .brand-icon {
                width: 38px;
                height: 38px;
                font-size: 1.25rem;
            }

            .brand-text h1 {
                font-size: 1.25rem;
            }

            .brand-subtitle {
                font-size: 0.65rem;
            }

            .header-actions {
                gap: 0.5rem;
            }

            .header-btn {
                padding: 0.5rem 0.75rem;
                font-size: 0.8125rem;
            }

            .header-btn span {
                display: none;
            }

            .main-content {
                padding: 1.5rem 1rem;
            }

            .section-title {
                font-size: 1.75rem;
            }

            .section-subtitle {
                font-size: 0.9375rem;
            }

            .article-title {
                font-size: 1.75rem;
            }

            .article-text {
                font-size: 1rem;
            }

            .datasets-grid,
            .indicators-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .dataset-card,
            .indicator-card {
                padding: 1.5rem;
            }

            .article-header,
            .article-body {
                padding: 1.5rem 1rem;
            }

            .article-meta {
                flex-wrap: wrap;
                gap: 1rem;
            }

            .api-section {
                padding: 1.5rem;
            }

            .api-endpoint {
                font-size: 0.75rem;
                padding: 0.875rem 1rem;
                flex-wrap: wrap;
            }

            .dataset-stats {
                flex-wrap: wrap;
            }
        }

        @media (max-width: 640px) {
            .brand {
                gap: 0.75rem;
            }

            .brand-icon {
                width: 32px;
                height: 32px;
                font-size: 1.125rem;
            }

            .brand-text h1 {
                font-size: 1.125rem;
            }

            .brand-subtitle {
                display: none;
            }

            .header-btn:not(.mobile-menu-btn) {
                display: none;
            }

            /* Mobile-friendly user info */
            .user-info {
                padding: 0.375rem 0.75rem;
                max-width: 200px;
            }

            #user-email {
                font-size: 0.75rem;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                max-width: 180px;
            }

            .header-link {
                display: none;
            }

            /* Show mobile controls in sidebar */
            .mobile-only {
                display: block;
            }

            /* Hide all header actions on mobile */
            .header-actions {
                display: none;
            }

            .main-content {
                padding: 1rem;
            }

            .section-header {
                margin-bottom: 1.5rem;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .article-title {
                font-size: 1.5rem;
                line-height: 1.3;
            }

            .chart-container {
                height: 320px;
                margin-top: 0.75rem;
                overflow: visible;
            }

            .chart-card {
                padding: 1rem;
                margin-bottom: 1rem;
                overflow-x: hidden;
            }

            .chart-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.75rem;
                margin-bottom: 1rem;
            }

            .chart-title {
                font-size: 1.125rem;
            }

            .chart-filters {
                width: 100%;
                flex-wrap: wrap;
                padding: 0.5rem;
            }

            .filter-btn {
                font-size: 0.75rem;
                padding: 0.5rem 0.75rem;
            }

            .type-select {
                font-size: 0.875rem !important;
                padding: 0.5rem !important;
                margin-right: 0.5rem !important;
            }

            .article-tag {
                font-size: 0.75rem;
                padding: 0.375rem 0.75rem;
            }

            .dataset-top {
                gap: 1rem;
            }

            .dataset-icon,
            .indicator-icon {
                width: 48px;
                height: 48px;
                font-size: 1.5rem;
            }

            .dataset-info h3,
            .indicator-title {
                font-size: 1.0625rem;
            }

            .indicator-value {
                font-size: 1.875rem;
            }

            .dataset-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
            }

            .api-endpoints {
                gap: 0.5rem;
            }

            .api-endpoint {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="brand">
                <button class="mobile-menu-btn" id="mobile-menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="brand-icon">
                    <img src="https://ik.imagekit.io/o2u9hny2s/vietdataverse/V2.png" alt="Viet Dataverse Logo">
                </div>
                <div class="brand-text">
                    <div style="font-family: 'Playfair Display', serif; font-size: 1.75rem; font-weight: 700; letter-spacing: -0.02em; background: linear-gradient(135deg, var(--gold-accent) 0%, var(--gold-primary) 100%); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; margin-bottom: 0.125rem;">Viet Dataverse</div>
                    <p class="brand-subtitle">Economic Intelligence</p>
                </div>
            </div>
            <div class="header-actions">
                <button class="header-btn" id="lang-toggle">
                    <span id="lang-text">En/Vie</span>
                </button>

                <!-- Authenticated user info -->
                <div class="user-info" id="user-info" style="display: none;">
                    <!-- <div class="user-avatar">U</div> -->
                    <div>
                        <div id="user-email" style="font-weight: 500;"></div>
                        <!-- <div style="font-size: 0.75rem; opacity: 0.7;">Đã đăng nhập</div> -->
                    </div>
                </div>

                <!-- Login button (shown when not authenticated) -->
                <a href="login.html" class="header-link" id="login-link">
                    <button class="header-btn primary">
                        <span>Đăng nhập</span>
                    </button>
                </a>

                <!-- Logout button (shown when authenticated) -->
                <button class="header-btn danger" id="logout-btn" style="display: none;">
                    <span>Đăng xuất</span>
                </button>
            </div>
        </header>

        <!-- Mobile Overlay -->
        <div class="mobile-overlay" id="mobile-overlay"></div>

        <!-- Sidebar -->
        <aside class="sidebar">
            <!-- Mobile User Controls Section -->
            <div class="sidebar-section">
                <h2 class="sidebar-heading">Navigation</h2>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a class="nav-link active" data-tab="data-portal">
                            <div class="nav-content">
                                <h4>Open Economic Data</h4>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-tab="flash-news" id="flash-news-toggle">
                            <div class="nav-content">
                                <h4>Gold News</h4>
                                <span class="nav-meta">Latest updates</span>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-tab="about-terms">
                            <div class="nav-content">
                                <h4>About & Terms</h4>
                                <span class="nav-meta">Về dự án & Điều khoản</span>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="sidebar-section mobile-only">
                <h2 class="sidebar-heading">Account</h2>

                <!-- Language Toggle -->
                <button class="sidebar-btn" id="sidebar-lang-toggle">
                    <i class="fas fa-language"></i>
                    <span id="sidebar-lang-text">En/Vie</span>
                </button>

                <!-- User Info (shown when authenticated) -->
                <div class="sidebar-user-info" id="sidebar-user-info" style="display: none;">
                    <div class="sidebar-user-email" id="sidebar-user-email"></div>
                </div>

                <!-- Login Link (shown when not authenticated) -->
                <a href="login.html" class="sidebar-link" id="sidebar-login-link">
                    <button class="sidebar-btn primary">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>Đăng nhập</span>
                    </button>
                </a>

                <!-- Logout Button (shown when authenticated) -->
                <button class="sidebar-btn danger" id="sidebar-logout-btn" style="display: none;">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Đăng xuất</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="tab-content active" id="data-portal">
                <div class="section-header">
                    <h1 class="section-title" style="font-size: 2.5rem;">Dữ Liệu Kinh Tế Mở</h1>
                    <p class="section-subtitle" style="font-size: 1.125rem;">
                        <strong>Tải lịch sử giá vàng, giá bạc, lãi suất SBV</strong> từ 2009 miễn phí.
                        <strong>Download Vietnam historical gold, silver price, interbank data</strong>
                        API & csv export hoàn toàn miễn phí cho phân tích và nghiên cứu kinh tế.
                    </p>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <!-- Gold Price Chart -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                Lịch Sử Giá Vàng Việt Nam
                            </h3>
                            <div class="chart-filters">
                                <select id="goldTypeSelect" class="type-select" style="margin-right: 10px; padding: 8px; border-radius: 4px; border: 1px solid rgba(201, 165, 91, 0.3); background: #1C1C1C; color: #A0A0A0;">
                                    <option value="DOJI HN">DOJI HN</option>
                                </select>
                                <button class="filter-btn" data-chart="gold" data-period="7d">7 Days</button>
                                <button class="filter-btn active" data-chart="gold" data-period="1m">1 Month</button>
                                <button class="filter-btn" data-chart="gold" data-period="1y">1 Year</button>
                                <button class="filter-btn" data-chart="gold" data-period="all">All</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="goldChart"></canvas>
                            <div class="chart-loading" id="goldLoading">Loading data...</div>
                        </div>
                    </div>

                    <!-- Silver Price Chart -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                Lịch Sử Giá Bạc Việt Nam - Phú Quý
                            </h3>
                            <div class="chart-filters">
                                <button class="filter-btn" data-chart="silver" data-period="7d">7 Days</button>
                                <button class="filter-btn active" data-chart="silver" data-period="1m">1 Month</button>
                                <button class="filter-btn" data-chart="silver" data-period="1y">1 Year</button>
                                <button class="filter-btn" data-chart="silver" data-period="all">All</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="silverChart"></canvas>
                            <div class="chart-loading" id="silverLoading">Loading data...</div>
                        </div>
                    </div>

                    <!-- TD Chart - Term Deposit Interest Rates -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                Lãi Suất Gửi Tiết Kiệm
                            </h3>
                            <div class="chart-filters">
                                <select id="bankTypeSelect" class="type-select" style="margin-right: 10px; padding: 8px; border-radius: 4px; border: 1px solid rgba(201, 165, 91, 0.3); background: #1C1C1C; color: #A0A0A0;">
                                    <option value="ACB">ACB</option>
                                    <option value="CTG">CTG</option>
                                    <option value="SHB">SHB</option>
                                </select>
                                <button class="filter-btn" data-chart="td" data-period="7d">7 Days</button>
                                <button class="filter-btn active" data-chart="td" data-period="1m">1 Month</button>
                                <button class="filter-btn" data-chart="td" data-period="1y">1 Year</button>
                                <button class="filter-btn" data-chart="td" data-period="all">All</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="tdChart"></canvas>
                            <div class="chart-loading" id="tdLoading">Loading data...</div>
                        </div>
                    </div>

                    <!-- SBV Interbank Rate Chart -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                Lịch Sử Lãi Suất Liên Ngân Hàng SBV
                            </h3>
                            <div class="chart-filters">
                                <button class="filter-btn" data-chart="sbv" data-period="7d">7 Days</button>
                                <button class="filter-btn active" data-chart="sbv" data-period="1m">1 Month</button>
                                <button class="filter-btn" data-chart="sbv" data-period="1y">1 Year</button>
                                <button class="filter-btn" data-chart="sbv" data-period="all">All</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="sbvChart"></canvas>
                            <div class="chart-loading" id="sbvLoading">Loading data...</div>
                        </div>
                    </div>

                    <!-- Global Macro Chart -->
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3 class="chart-title">
                                Xu Hướng Thị Trường Toàn Cầu (Vàng, Bạc, NASDAQ)
                            </h3>
                            <div class="chart-filters">
                                <button class="filter-btn" data-chart="global" data-period="7d">7 Days</button>
                                <button class="filter-btn active" data-chart="global" data-period="1m">1 Month</button>
                                <button class="filter-btn" data-chart="global" data-period="1y">1 Year</button>
                                <button class="filter-btn" data-chart="global" data-period="all">All</button>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="globalChart"></canvas>
                            <div class="chart-loading" id="globalLoading">Loading data...</div>
                        </div>
                    </div>
                </div>

                <!-- Download Portal -->
                <div class="section-header" style="margin-top: 4rem;">
                    <h2 class="section-title">Tải Lịch Sử Giá Vàng - Download Vietnam Gold Price Data</h2>
                    <p class="section-subtitle">
                        <strong>Tải dữ liệu lịch sử giá vàng</strong> SJC, DOJI, PNJ, giá bạc, lãi suất ngân hàng miễn phí.
                        <strong>Download Vietnam historical gold price</strong> từ 2015 đến nay hoặc truy cập dữ liệu realtime với API key.
                    </p>
                </div>
                <div class="datasets-grid">
                    <!-- Gold Dataset -->
                    <div class="dataset-card">
                        <div class="dataset-top">
                            <div class="dataset-info">
                                <h3>Lịch Sử Giá Vàng Trong Nước</h3>
                            </div>
                        </div>
                        <p class="dataset-desc">
                            <strong>Tải lịch sử giá vàng</strong> SJC, DOJI, PNJ 24K từ 2015 đến nay. <strong>Download Vietnam historical gold price</strong> miễn phí.
                        </p>
                        <div class="dataset-stats">
                            <span class="stat-item">
                                <i class="fas fa-calendar-alt"></i>
                                2015 - Present
                            </span>
                            <span class="stat-item">
                                <i class="fas fa-database"></i>
                                1000+ records
                            </span>
                        </div>
                        <div class="dataset-actions">
                            <button class="btn btn-primary" data-download="gold" title="Tải lịch sử giá vàng">
                                <i class="fas fa-download"></i> Download
                            </button>
                            <button class="btn btn-secondary" data-api="gold" title="Vietnam gold price API">
                                <i class="fas fa-code"></i> API
                            </button>
                        </div>
                    </div>

                    <!-- Silver Dataset -->
                    <div class="dataset-card">
                        <div class="dataset-top">
                            <div class="dataset-info">
                                <h3>Giá Bạc Phú Quý</h3>
                            </div>
                        </div>
                        <p class="dataset-desc">
                            Giá bạc thỏi Phú Quý tại thị trường trong nước, cập nhật 2 lần mỗi ngày (8:30 sáng và 1:30 chiều) với kiểm tra chất lượng tự động từ nguồn công khai.
                        </p>
                        <div class="dataset-stats">
                            <span class="stat-item">
                                2023 - Present
                            </span>
                            <span class="stat-item">
                                560 records
                            </span>
                        </div>
                        <div class="dataset-actions">
                            <button class="btn btn-primary" data-download="silver">
                                <i class="fas fa-download"></i> Download
                            </button>
                            <button class="btn btn-secondary" data-api="silver">
                                <i class="fas fa-code"></i> API
                            </button>
                        </div>
                    </div>

                    <!-- SBV Interbank -->
                    <div class="dataset-card">
                        <div class="dataset-top">
                            <div class="dataset-info">
                                <h3>Lãi Suất Liên Ngân Hàng SBV</h3>
                            </div>
                        </div>
                        <p class="dataset-desc">
                            Lãi suất liên ngân hàng chính thức được Ngân hàng Nhà nước Việt Nam (SBV) công bố, bao gồm các kỳ hạn từ overnight đến 9 tháng.
                        </p>
                        <div class="dataset-stats">
                            <span class="stat-item">
                                2025 - Present
                            </span>
                            <span class="stat-item">
                                45+ updates
                            </span>
                        </div>
                        <div class="dataset-actions">
                            <button class="btn btn-primary" data-download="sbv">
                                <i class="fas fa-download"></i> Download
                            </button>
                            <button class="btn btn-secondary" data-api="sbv">
                                <i class="fas fa-code"></i> API
                            </button>
                        </div>
                    </div>

                    <!-- Term Deposit -->
                    <div class="dataset-card disabled">
                        <div class="dataset-top">
                            <div class="dataset-info">
                                <h3>Bank Term Deposit Rates</h3>
                            </div>
                        </div>
                        <p class="dataset-desc">
                            Savings interest rates from Vietnam's 8 largest commercial banks (VCB, VTB, TCB, MB, ACB, TPB, VPB, AGR).
                        </p>
                        <div class="dataset-stats">
                            <span class="stat-item">
                                In Development
                            </span>
                            <span class="stat-item">
                                Q1 2026
                            </span>
                        </div>
                        <div class="dataset-actions">
                            <button class="btn btn-primary" disabled>
                                Coming Soon
                            </button>
                        </div>
                    </div>

                    <!-- VN30 Financials -->
                    <div class="dataset-card disabled">
                        <div class="dataset-top">
                            <div class="dataset-info">
                                <h3>VN30 Financial Statements</h3>
                            </div>
                        </div>
                        <p class="dataset-desc">
                            Fundamental financial data for Vietnam's top 30 stocks by market cap, including balance sheets and key ratios.
                        </p>
                        <div class="dataset-stats">
                            <span class="stat-item">
                                In Development
                            </span>
                            <span class="stat-item">
                                Q2 2026
                            </span>
                        </div>
                        <div class="dataset-actions">
                            <button class="btn btn-primary" disabled>
                                Coming Soon
                            </button>
                        </div>
                    </div>

                    <!-- News Sentiment -->
                    <div class="dataset-card disabled">
                        <div class="dataset-top">
                            <div class="dataset-info">
                                <h3>News Sentiment Indicators</h3>
                            </div>
                        </div>
                        <p class="dataset-desc">
                            Economic news from 6 major outlets with AI-powered sentiment analysis on gold, silver, VN-Index and VN30 stocks.
                        </p>
                        <div class="dataset-stats">
                            <span class="stat-item">
                                In Development
                            </span>
                            <span class="stat-item">
                                Q2 2026
                            </span>
                        </div>
                        <div class="dataset-actions">
                            <button class="btn btn-primary" disabled>
                                Coming Soon
                            </button>
                        </div>
                    </div>
                </div>

                <!-- API Section -->
                <div class="api-section">
                    <div class="api-header">
                        <i class="fas fa-plug" style="color: var(--gold-primary); font-size: 1.5rem;"></i>
                        <h3>API Access</h3>
                    </div>
                    <p class="api-description">
                        Access datasets programmatically via our API. Processing...
                    </p>
                    <!-- <div class="api-endpoints">
                        <div class="api-endpoint">
                            <span class="method">GET</span>
                            <span>https://nguyenphamdieuhien.online/api/v1/datasets/vn-gold</span>
                        </div>
                        <div class="api-endpoint">
                            <span class="method">GET</span>
                            <span>https://nguyenphamdieuhien.online/api/v1/datasets/vn-silver</span>
                        </div>
                        <div class="api-endpoint">
                            <span class="method">GET</span>
                            <span>https://nguyenphamdieuhien.online/api/v1/datasets/sbv-interbank</span>
                        </div>
                    </div> -->
                    <!-- <p class="api-footer">
                        View complete <a href="../crawl_tools/data_description.html">API documentation</a> for schemas, parameters, and data sources.
                    </p> -->
                    <p class="api-footer">
                        <a href="../crawl_tools/data_description.html">Sign in</a> to receive notification when it available.
                    </p>
                </div>
            </div>

            <!-- Tab 3: Flash News (Articles) -->
            <div class="tab-content" id="flash-news">
                <!-- Article 1 -->
                <article class="article-featured" id="article-1">
                    <div class="article-header">
                        <span class="article-tag">
                            Phân Tích Thị Trường Vàng
                        </span>
                        <h1 class="article-title">Phân Tích Giá Vàng Hôm Nay: Xu Hướng Tăng Mạnh Theo Thị Trường Toàn Cầu</h1>
                        <div class="article-meta">
                            <span class="meta-item">
                                Viet Dataverse
                            </span>
                            <span class="meta-item">
                                13/01/2026 • 08:00
                            </span>
                            <span class="meta-item">
                                Automated Analysis by Fintel
                            </span>
                        </div>
                    </div>
                    <div class="article-body">
                        <div class="article-text">
                            <h3>Diễn biến thị trường vàng toàn cầu</h3>
                            <p>
                                Giá vàng tương lai trên sàn COMEX đạt <strong>$2,690/oz</strong>, tăng 1.2% so với phiên giao dịch trước đó, phản ánh tâm lý lo ngại về lạm phát toàn cầu và căng thẳng địa chính trị gia tăng.
                                Chỉ số NASDAQ Composite ghi nhận mức <strong>19,630 điểm</strong>, giảm 0.8% trong tuần qua, khiến dòng vốn chuyển hướng sang tài sản trú ẩn an toàn như vàng và trái phiếu chính phủ.
                                Giá bạc giao ngay tại thị trường quốc tế đạt <strong>$31.2/oz</strong>, tăng 2.1% theo xu hướng của vàng, cho thấy kim loại quý đang được ưa chuộng trong bối cảnh bất ổn kinh tế.
                            </p>

                            <h3>Thị trường vàng trong nước</h3>
                            <p>
                                Vàng SJC tại Hà Nội hôm nay giao dịch ở mức <strong>160.0 - 160.0 triệu đồng/lượng</strong> (mua vào - bán ra), tăng 2.2 triệu đồng (+1.4%) so với phiên trước, đạt mức cao nhất trong 3 tháng qua theo dữ liệu từ DOJI.
                                Chênh lệch giá mua-bán thu hẹp xuống còn 0 đồng, phản ánh thanh khoản tốt và nhu cầu mua vào mạnh mẽ từ nhà đầu tư cá nhân và tổ chức.
                                Khối lượng giao dịch vàng miếng SJC tăng 35% so với tuần trước, cho thấy dòng tiền đang đổ mạnh vào kênh đầu tư vàng vật chất khi thị trường chứng khoán biến động.
                            </p>

                            <h3>Dự báo tuần tới (13-19/01/2026)</h3>
                            <p>
                                Giá vàng trong nước dự kiến <strong>tiếp tục xu hướng tăng</strong> trong tuần tới với biên độ 1-3 triệu đồng/lượng, chạm mốc 162-163 triệu đồng, do áp lực từ giá vàng thế giới tăng mạnh và tâm lý trú ẩn an toàn tăng cao.
                                Yếu tố chính hỗ trợ đà tăng là cuộc họp Fed ngày 29/01 sắp tới, thị trường kỳ vọng Fed sẽ giữ nguyên lãi suất ở mức 5.25-5.50%, tạo áp lực giảm lên đồng USD và đẩy giá vàng lên cao.
                                Rủi ro điều chỉnh giảm có thể xảy ra nếu số liệu CPI tháng 1 của Mỹ (công bố 15/01) thấp hơn dự báo, làm giảm kỳ vọng lạm phát và giảm sức hấp dẫn của vàng như công cụ phòng ngừa rủi ro.
                            </p>

                            <h3>Tin tức quốc tế liên quan</h3>
                            <ul>
                                <li><a href="https://www.reuters.com/markets/commodities/gold-prices/" target="_blank">Reuters: Gold climbs as Middle East tensions fuel safe-haven demand</a></li>
                                <li><a href="https://www.bloomberg.com/quote/XAUUSD:CUR" target="_blank">Bloomberg: Gold Rises on Fed Rate-Cut Speculation, Dollar Weakness</a></li>
                                <li><a href="https://www.cnbc.com/quotes/@GC.1" target="_blank">CNBC: Gold futures hit 3-month high amid inflation concerns</a></li>
                                <li><a href="https://www.kitco.com/news/" target="_blank">Kitco: Central banks increase gold reserves for 15th consecutive month</a></li>
                                <li><a href="https://www.ft.com/commodities" target="_blank">Financial Times: Precious metals rally as investors seek inflation hedge</a></li>
                            </ul>

                            <p class="article-disclaimer">
                                <em>Lưu ý: Đây là phân tích dựa trên dữ liệu lịch sử và xu hướng thị trường. Nhà đầu tư nên tham khảo ý kiến chuyên gia trước khi đưa ra quyết định đầu tư.</em>
                            </p>
                        </div>
                    </div>
                </article>

            </div>

            <!-- About & Terms Tab -->
            <div class="tab-content" id="about-terms">
                <div class="section-header">
                    <h1 class="section-title">About & Terms</h1>
                    <p class="section-subtitle">Về Viet Dataverse, Nguồn Dữ Liệu & Điều Khoản Sử Dụng</p>
                </div>

                <!-- Về Viet Dataverse -->
                <div style="background: rgba(201, 165, 91, 0.05); border-left: 3px solid var(--gold-primary); padding: 1.5rem; margin: 2rem 0; border-radius: 8px; line-height: 1.8;">
                    <h2 style="color: var(--gold-accent); font-size: 1.5rem; margin-bottom: 1rem;">Về Viet Dataverse</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                        <strong>Viet Dataverse</strong> là nền tảng dữ liệu kinh tế Việt Nam miễn phí, cung cấp thông tin <strong>giá vàng</strong>,
                        <strong>giá bạc</strong>, và <strong>lãi suất ngân hàng</strong> được thu thập tự động từ các nguồn công khai uy tín.
                    </p>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                        <strong>Giá vàng trong nước</strong> (SJC, DOJI) với dữ liệu lịch sử từ năm 2015 đến nay.
                        <strong>Giá bạc trong nước</strong> (Phú Quý) được cập nhật 2 lần mỗi ngày (8:30 sáng, 1:30 chiều).
                        <strong>Lãi suất liên ngân hàng</strong> do Ngân hàng Nhà nước Việt Nam (SBV) công bố.
                        <strong>Lãi suất gửi tiết kiệm</strong> từ các ngân hàng thương mại lớn.
                    </p>
                    <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                        Dữ liệu được <strong>làm sạch, chuẩn hóa</strong> và lưu trữ lịch sử dài hạn để phục vụ <strong>mục đích nghiên cứu và phân tích</strong>.
                        Bạn có thể tải dữ liệu hoàn toàn miễn phí hoặc truy cập qua <strong>API</strong>.
                    </p>
                    <p style="color: #888; font-size: 0.9em; border-top: 1px solid rgba(201, 165, 91, 0.2); padding-top: 1rem; margin-top: 1rem;">
                        <strong>Lưu ý quan trọng:</strong> Dữ liệu chỉ mang tính chất tham khảo, không phải lời khuyên đầu tư.
                        Viet Dataverse không chịu trách nhiệm về các quyết định tài chính dựa trên dữ liệu này.
                        Người dùng cần tự kiểm tra và chịu trách nhiệm với quyết định của mình.
                    </p>

                </div>

                <!-- Về Nguồn Dữ Liệu & Phương Pháp Thu Thập -->
                <div style="background: rgba(0, 0, 0, 0.3); border-radius: 8px; border: 1px solid rgba(201, 165, 91, 0.2); padding: 2rem; margin: 2rem 0;">
                    <h2 style="color: var(--gold-accent); font-size: 1.5rem; margin-bottom: 1rem;">Về Nguồn Dữ Liệu & Phương Pháp Thu Thập</h2>
                    <p style="color: #A0A0A0; line-height: 1.8; margin-bottom: 1rem; font-size: 0.95rem;">
                        Dữ liệu trên Viet Dataverse được thu thập tự động từ <strong>các nguồn công khai, miễn phí</strong> bao gồm website của các tổ chức tài chính, công ty vàng bạc uy tín, và cơ quan nhà nước.
                        Tất cả dữ liệu đều là <strong>thông tin công khai</strong> mà bất kỳ ai cũng có thể truy cập.
                    </p>
                    <p style="color: #A0A0A0; line-height: 1.8; margin-bottom: 1rem; font-size: 0.95rem;">
                        Giá trị gia tăng của Viet Dataverse nằm ở việc <strong>làm sạch, chuẩn hóa, lưu trữ lịch sử dài hạn</strong> và cung cấp API miễn phí để phục vụ cộng đồng nghiên cứu.
                        Chúng tôi không sở hữu dữ liệu gốc, chỉ cung cấp dịch vụ tổng hợp và phân phối.
                    </p>
                </div>

                <!-- Điều Khoản Sử Dụng -->
                <div style="background: rgba(0, 0, 0, 0.3); border-radius: 8px; border: 1px solid rgba(201, 165, 91, 0.2); padding: 2rem; margin: 2rem 0;">
                    <h2 style="color: var(--gold-accent); font-size: 1.5rem; margin-bottom: 1rem;">Điều Khoản Sử Dụng</h2>
                    <ul style="color: #A0A0A0; line-height: 2; font-size: 0.95rem; padding-left: 1.5rem;">
                        <li><strong>Mục đích:</strong> Dữ liệu chỉ phục vụ mục đích nghiên cứu, học thuật, và phân tích cá nhân. Không dùng cho mục đích thương mại trừ khi có thỏa thuận.</li>
                        <li><strong>Không phải lời khuyên tài chính:</strong> Viet Dataverse không cung cấp lời khuyên đầu tư. Mọi quyết định tài chính là trách nhiệm của người dùng.</li>
                        <li><strong>Độ chính xác:</strong> Chúng tôi nỗ lực đảm bảo độ chính xác nhưng không chịu trách nhiệm về sai sót từ nguồn gốc hoặc quá trình thu thập.</li>
                        <li><strong>Bảo vệ nguồn:</strong> Người dùng cam kết không crawl ngược lại dữ liệu từ Viet Dataverse để tạo dịch vụ cạnh tranh.</li>
                    </ul>

                    <p style="color: #666; font-size: 0.85rem; margin-top: 1.5rem; font-style: italic;">
                        © 2026 Viet Dataverse. Nền tảng dữ liệu kinh tế Việt Nam mã nguồn mở.
                        <a href="mailto:contact@nguyenphamdieuhien.online" style="color: var(--gold-primary); text-decoration: none;">Liên hệ</a>
                    </p>
                </div>
            </div>
        </main>
    </div>

    <!-- Notification Overlay -->
    <div class="notification-overlay" id="notification-overlay">
        <div class="notification-card">
            <div class="notification-icon">
                <i class="fas fa-lock"></i>
            </div>
            <h3 class="notification-title">Yêu cầu đăng nhập</h3>
            <p class="notification-message">
                Bạn cần đăng nhập để tải dữ liệu. Vui lòng đăng nhập để tiếp tục sử dụng các tính năng của Viet Dataverse.
            </p>
            <div class="notification-actions">
                <button class="notification-btn secondary" id="cancel-btn">
                    <span>Hủy</span>
                </button>
                <button class="notification-btn primary" id="login-btn">
                    <span>Đăng nhập</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Language toggle with translations (Vietnamese is primary)
        let currentLang = 'vi';

        const translations = {
            vi: {
                langBtn: 'En',
                subtitle: 'Thông tin Kinh tế',
                navDataPortal: 'Dữ Liệu Kinh Tế Mở',
                navFlashNews: 'Dự Báo Giá Vàng',
                navFlashNewsMeta: 'Cập nhật mới nhất',
                navAboutTerms: 'Giới thiệu Viet Dataverse',
                navAboutTermsMeta: 'Về dự án & Điều khoản',
                mainTitle: 'Dữ Liệu Kinh Tế Mở',
                mainSubtitle: '<strong>Tải lịch sử giá vàng</strong> SJC, DOJI, PNJ từ 2015 miễn phí. <strong>Download Vietnam historical gold price data</strong>, giá bạc, lãi suất liên ngân hàng. API & CSV export hoàn toàn miễn phí cho phân tích và nghiên cứu kinh tế.',
                sectionTitle: 'Dữ Liệu Kinh Tế Mở',
                sectionSubtitle: 'Bộ dữ liệu kinh tế vĩ mô Việt Nam chất lượng cao công khai và truy cập miễn phí cho mục đích nghiên cứu. Chi tiết về schemas và parameters tại',
                goldChart: 'Lịch Sử Giá Vàng Trong Nước',
                silverChart: 'Lịch Sử Giá Bạc (Phú Quý)',
                sbvChart: 'Lịch Sử Lãi Suất Liên Ngân Hàng',
                tdChart: 'Lịch Sử Lãi Suất Gửi Tiết Kiệm',
                globalChart: 'Xu Hướng Thị Trường Toàn Cầu (Vàng, Bạc, NASDAQ)',
                downloadTitle: 'Tải Dữ liệu Lịch Sử',
                downloadSubtitle: 'Tải dữ liệu lịch sử giá vàng SJC, DOJI, PNJ, giá bạc, lãi suất ngân hàng miễn phí. Download Vietnam historical gold price từ 2015 đến nay hoặc truy cập qua RESTful API.',
                goldDatasetTitle: 'Tải Lịch Sử Giá Vàng',
                goldDatasetDesc: 'Tải lịch sử giá vàng SJC, DOJI, PNJ 24K từ 2015 đến nay. Download Vietnam historical gold price miễn phí với giá mua/bán cập nhật 2 lần mỗi ngày từ nguồn uy tín.',
                silverDatasetTitle: 'Giá Bạc Phú Quý',
                silverDatasetDesc: 'Giá Bạc tại thị trường Hà Nội (Phú Quý), dữ liệu lịch sử từ 2015. Cập nhật hàng ngày giá mua và bán từ nhà phân phối bạc uy tín.',
                sbvDatasetTitle: 'Lãi Suất Liên Ngân Hàng SBV',
                sbvDatasetDesc: 'Lãi suất liên ngân hàng VND (qua đêm, 1 tuần, 2 tuần, 1-9 tháng) công bố bởi Ngân hàng Nhà nước Việt Nam.',
                tdDatasetTitle: 'Lãi Suất Gửi Tiết Kiệm',
                apiBtn: 'Đăng nhập'
            },
            en: {
                langBtn: 'Vie',
                subtitle: 'Economic Intelligence',
                navDataPortal: 'Open Economic Data',
                navFlashNews: 'VN Gold Price Prediction',
                navFlashNewsMeta: 'Latest updates',
                navAboutTerms: 'About & Terms',
                navAboutTermsMeta: 'About project & Terms',
                mainTitle: 'Open Economic Data',
                mainSubtitle: '<strong>Download Vietnam historical gold price data</strong> (SJC, DOJI, PNJ) from 2015 for free. Access silver prices, SBV interest rates updated twice daily. Free API & CSV export for economic research and analysis.',
                sectionTitle: 'Open Economic Data',
                sectionSubtitle: 'Transparent, high-quality Vietnamese macroeconomic datasets for research and analysis. All data sources are publicly documented and freely accessible. More details about parameters with',
                goldChart: 'Gold Price History (Vietnam)',
                silverChart: 'Silver Price History (Vietnam)',
                sbvChart: 'SBV Interbank Rates History',
                tdChart: 'Commercial Banks Term Deposit History',
                globalChart: 'Global Market Trends (Gold, Silver, NASDAQ)',
                downloadTitle: 'Download Vietnam Historical Index',
                downloadSubtitle: 'Download historical gold price data (SJC, DOJI, PNJ), silver prices, bank interest rates for free. Access Vietnam gold price data from 2015 onwards via RESTful API.',
                goldDatasetTitle: 'Vietnam Historical Gold Price',
                goldDatasetDesc: 'Download Vietnam historical gold price data (SJC, DOJI, PNJ 24K) from 2015 to present for free. Buy/sell prices updated twice daily from reliable sources.',
                silverDatasetTitle: 'Silver Price (Phu Quy)',
                silverDatasetDesc: 'Spot silver prices (Phu Quy), historical data from 2015. Daily buy/sell prices from trusted silver distributors.',
                sbvDatasetTitle: 'SBV Interbank Rates',
                sbvDatasetDesc: 'VND interbank interest rates (overnight, 1 week, 2 weeks, 1-9 months) published by State Bank of Vietnam.',
                tdDatasetTitle: 'Term Deposit Rates',
                apiBtn: 'Login'
            }
        };

        function updateLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];

            // Update button - Header
            document.getElementById('lang-text').textContent = t.langBtn;

            // Update button - Sidebar
            const sidebarLangText = document.getElementById('sidebar-lang-text');
            if (sidebarLangText) {
                sidebarLangText.textContent = t.langBtn;
            }
            document.querySelector('.brand-subtitle').textContent = t.subtitle;

            // Update navigation
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                if (link.getAttribute('data-tab') === 'data-portal') {
                    link.querySelector('h4').textContent = t.navDataPortal;
                } else if (link.getAttribute('data-tab') === 'flash-news') {
                    link.querySelector('h4').textContent = t.navFlashNews;
                    const meta = link.querySelector('.nav-meta');
                    if (meta) meta.textContent = t.navFlashNewsMeta;
                }
            });

            // Update main title & subtitle (SEO optimized)
            const mainSection = document.querySelector('#data-portal .section-header');
            if (mainSection) {
                const mainTitle = mainSection.querySelector('.section-title');
                const mainSubtitle = mainSection.querySelector('.section-subtitle');
                if (mainTitle) mainTitle.textContent = t.mainTitle;
                if (mainSubtitle) {
                    // Remove <strong> tags and set text content
                    mainSubtitle.innerHTML = t.mainSubtitle;
                }
            }

            // Update download section
            const sectionHeaders = document.querySelectorAll('.section-header');
            if (sectionHeaders[1]) {
                sectionHeaders[1].querySelector('.section-title').textContent = t.downloadTitle;
                const downloadSubtitle = sectionHeaders[1].querySelector('.section-subtitle');
                if (downloadSubtitle) {
                    downloadSubtitle.innerHTML = t.downloadSubtitle;
                }
            }

            // Update dataset cards
            const datasetCards = document.querySelectorAll('.dataset-card');
            if (datasetCards[0]) {
                const h3 = datasetCards[0].querySelector('h3');
                const desc = datasetCards[0].querySelector('.dataset-desc');
                if (h3) h3.textContent = t.goldDatasetTitle;
                if (desc) desc.innerHTML = t.goldDatasetDesc;
            }
            if (datasetCards[1]) {
                const h3 = datasetCards[1].querySelector('h3');
                const desc = datasetCards[1].querySelector('.dataset-desc');
                if (h3) h3.textContent = t.silverDatasetTitle;
                if (desc) desc.innerHTML = t.silverDatasetDesc;
            }
            if (datasetCards[2]) {
                const h3 = datasetCards[2].querySelector('h3');
                const desc = datasetCards[2].querySelector('.dataset-desc');
                if (h3) h3.textContent = t.sbvDatasetTitle;
                if (desc) desc.innerHTML = t.sbvDatasetDesc;
            }
            if (datasetCards[3]) {
                const h3 = datasetCards[3].querySelector('h3');
                const desc = datasetCards[3].querySelector('.dataset-desc');
                if (h3) h3.textContent = t.tdDatasetTitle;
                if (desc) desc.innerHTML = t.tdDatasetDesc;
            }

            // Update charts
            const chartTitles = document.querySelectorAll('.chart-title');
            if (chartTitles[0]) chartTitles[0].textContent = t.goldChart;
            if (chartTitles[1]) chartTitles[1].textContent = t.silverChart;
            if (chartTitles[2]) chartTitles[2].textContent = t.tdChart;
            if (chartTitles[3]) chartTitles[3].textContent = t.sbvChart;
            if (chartTitles[4]) chartTitles[4].textContent = t.globalChart;

            // Update API button
            document.querySelector('.header-btn.primary span').textContent = t.apiBtn;

            // Set HTML lang and visual feedback
            document.documentElement.lang = lang;
            document.getElementById('lang-toggle').style.borderColor =
                lang === 'vi' ? 'var(--gold-primary)' : 'var(--silver)';
        }

        // Check authentication status and update UI
        function checkAuthenticationStatus() {
            const token = localStorage.getItem('auth_token');
            const userEmail = localStorage.getItem('user_email');

            const userInfo = document.getElementById('user-info');
            const loginLink = document.getElementById('login-link');
            const logoutBtn = document.getElementById('logout-btn');
            const userEmailElement = document.getElementById('user-email');

            // Sidebar elements
            const sidebarUserInfo = document.getElementById('sidebar-user-info');
            const sidebarLoginLink = document.getElementById('sidebar-login-link');
            const sidebarLogoutBtn = document.getElementById('sidebar-logout-btn');
            const sidebarUserEmail = document.getElementById('sidebar-user-email');

            if (token && userEmail) {
                // User is logged in - Header
                userInfo.style.display = 'flex';
                loginLink.style.display = 'none';
                logoutBtn.style.display = 'block';
                if (userEmailElement) {
                    userEmailElement.textContent = userEmail;
                }

                // User is logged in - Sidebar
                if (sidebarUserInfo) sidebarUserInfo.style.display = 'block';
                if (sidebarLoginLink) sidebarLoginLink.style.display = 'none';
                if (sidebarLogoutBtn) sidebarLogoutBtn.style.display = 'block';
                if (sidebarUserEmail) sidebarUserEmail.textContent = userEmail;
            } else {
                // User is not logged in - Header
                userInfo.style.display = 'none';
                loginLink.style.display = 'block';
                logoutBtn.style.display = 'none';

                // User is not logged in - Sidebar
                if (sidebarUserInfo) sidebarUserInfo.style.display = 'none';
                if (sidebarLoginLink) sidebarLoginLink.style.display = 'block';
                if (sidebarLogoutBtn) sidebarLogoutBtn.style.display = 'none';
            }
        }

        // Logout functionality
        function logout() {
            // Clear authentication data
            localStorage.removeItem('auth_token');
            localStorage.removeItem('user_email');

            // Update UI
            checkAuthenticationStatus();

            // Show logout message
            alert('Bạn đã đăng xuất thành công.');

            // Optional: Redirect to home page
            // window.location.href = 'index.html';
        }

        // Add logout button event listener
        document.addEventListener('DOMContentLoaded', function() {
            const logoutBtn = document.getElementById('logout-btn');
            const sidebarLogoutBtn = document.getElementById('sidebar-logout-btn');

            if (logoutBtn) {
                logoutBtn.addEventListener('click', logout);
            }

            if (sidebarLogoutBtn) {
                sidebarLogoutBtn.addEventListener('click', logout);
            }

            // Check authentication status on page load
            checkAuthenticationStatus();
        });

        // Initialize with Vietnamese
        updateLanguage('vi');

        // Toggle event - Header
        document.getElementById('lang-toggle').addEventListener('click', function() {
            updateLanguage(currentLang === 'vi' ? 'en' : 'vi');
        });

        // Toggle event - Sidebar
        const sidebarLangToggle = document.getElementById('sidebar-lang-toggle');
        if (sidebarLangToggle) {
            sidebarLangToggle.addEventListener('click', function() {
                updateLanguage(currentLang === 'vi' ? 'en' : 'vi');
            });
        }

        // Mobile menu toggle
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileOverlay = document.getElementById('mobile-overlay');
        const sidebar = document.querySelector('.sidebar');

        function toggleMobileMenu() {
            sidebar.classList.toggle('active');
            mobileOverlay.classList.toggle('active');
        }

        mobileMenuToggle.addEventListener('click', toggleMobileMenu);
        mobileOverlay.addEventListener('click', toggleMobileMenu);

        // Tab switching
        const navLinks = document.querySelectorAll('.nav-link[data-tab]');
        const tabContents = document.querySelectorAll('.tab-content');

        navLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();

                // Remove active from all nav links
                navLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');

                // Hide all tab contents
                tabContents.forEach(tab => tab.classList.remove('active'));

                // Show selected tab
                const tabId = this.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');

                // Close mobile menu after selection on mobile
                if (window.innerWidth <= 968) {
                    toggleMobileMenu();
                }
            });
        });

        // Flash news navigation (subnav always visible)
        const flashNewsToggle = document.getElementById('flash-news-toggle');
        const articlesSubnav = document.getElementById('articles-subnav');

        // Article navigation
        const articleLinks = document.querySelectorAll('.nav-link[data-article]');
        const allArticles = document.querySelectorAll('.article-featured');

        articleLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();

                // Remove active from article links
                articleLinks.forEach(l => l.classList.remove('active'));
                this.classList.add('active');

                // Show flash news tab
                tabContents.forEach(tab => tab.classList.remove('active'));
                document.getElementById('flash-news').classList.add('active');

                // Activate flash news nav
                navLinks.forEach(l => l.classList.remove('active'));
                flashNewsToggle.classList.add('active');

                // Hide all articles
                allArticles.forEach(article => {
                    article.style.display = 'none';
                });

                // Show selected article
                const articleId = this.getAttribute('data-article');
                document.getElementById(articleId).style.display = 'block';

                // Scroll to top of article
                document.querySelector('.main-content').scrollTop = 0;

                // Close mobile menu after selection on mobile
                if (window.innerWidth <= 968) {
                    toggleMobileMenu();
                }
            });
        });

        // ==================== CHARTS FUNCTIONALITY ====================
        // API Base URL - use port 8000 for local dev, dynamic for production
        const API_BASE_URL = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
            ? 'http://127.0.0.1:8000/api/v1'  // Local development
            : 'https://api.nguyenphamdieuhien.online/api/v1';  // Production

        // Chart instances
        let goldChart = null;
        let silverChart = null;
        let sbvChart = null;
        let tbChart = null;
        let globalChart = null;
        let tdChart = null;

        // Chart.js default configuration
        Chart.defaults.color = '#A0A0A0';
        Chart.defaults.borderColor = 'rgba(201, 165, 91, 0.15)';
        Chart.defaults.font.family = 'Inter, sans-serif';

        // Helper function to get responsive font size
        function getResponsiveFontSize() {
            return window.innerWidth <= 640 ? 9 : 11;
        }

        // Helper function to get responsive tick limit
        function getResponsiveTickLimit() {
            return window.innerWidth <= 640 ? 6 : 8;
        }

        // Helper function to hide tooltip when clicking outside chart
        function setupTooltipHideOnClickOutside(chart, canvas) {
            const hideTooltip = (event) => {
                const rect = canvas.getBoundingClientRect();
                const isInside = event.clientX >= rect.left &&
                                event.clientX <= rect.right &&
                                event.clientY >= rect.top &&
                                event.clientY <= rect.bottom;

                if (!isInside && chart.tooltip && chart.tooltip.getActiveElements().length > 0) {
                    chart.tooltip.setActiveElements([], {x: 0, y: 0});
                    chart.update();
                }
            };

            // Remove existing listener if any
            if (canvas._hideTooltipListener) {
                document.removeEventListener('click', canvas._hideTooltipListener);
                document.removeEventListener('touchstart', canvas._hideTooltipListener);
            }

            // Add new listener
            canvas._hideTooltipListener = hideTooltip;
            document.addEventListener('click', hideTooltip);
            document.addEventListener('touchstart', hideTooltip);
        }

        // Fetch data from API with authentication
        async function fetchData(endpoint, period) {
            try {
                const token = localStorage.getItem('auth_token');
                const headers = {
                    'Content-Type': 'application/json'
                };
                
                // Add authorization header if token exists
                if (token) {
                    headers['Authorization'] = `Bearer ${token}`;
                }

                const response = await fetch(`${API_BASE_URL}/${endpoint}?period=${period}`, {
                    headers: headers
                });
                
                if (response.status === 401) {
                    // Token expired or invalid
                    localStorage.removeItem('auth_token');
                    localStorage.removeItem('user_email');
                    throw new Error('Authentication required');
                }
                
                if (!response.ok) throw new Error('Network response was not ok');
                const result = await response.json();
                return result.data;
            } catch (error) {
                console.error(`Error fetching ${endpoint}:`, error);
                throw error;
            }
        }

        // Load gold types
        async function loadGoldTypes() {
            try {
                const token = localStorage.getItem('auth_token');
                const headers = {
                    'Content-Type': 'application/json'
                };
                
                // Add authorization header if token exists
                if (token) {
                    headers['Authorization'] = `Bearer ${token}`;
                }

                const response = await fetch(`${API_BASE_URL}/gold/types`, {
                    headers: headers
                });
                
                if (response.status === 401) {
                    // Token expired or invalid
                    localStorage.removeItem('auth_token');
                    localStorage.removeItem('user_email');
                    throw new Error('Authentication required');
                }
                
                if (!response.ok) throw new Error('Network response was not ok');
                const result = await response.json();
                
                if (result.success && result.types) {
                    const select = document.getElementById('goldTypeSelect');
                    select.innerHTML = result.types.map(type =>
                        `<option value="${type}"${type === 'DOJI HN' ? ' selected' : ''}>${type}</option>`
                    ).join('');
                }
            } catch (error) {
                console.error('Error loading gold types:', error);
            }
        }
        
        // Load bank types for term deposit
        async function loadBankTypes() {
            try {
                const token = localStorage.getItem('auth_token');
                const headers = {
                    'Content-Type': 'application/json'
                };
                
                // Add authorization header if token exists
                if (token) {
                    headers['Authorization'] = `Bearer ${token}`;
                }

                const response = await fetch(`${API_BASE_URL}/termdepo/banks`, {
                    headers: headers
                });
                
                if (response.status === 401) {
                    // Token expired or invalid
                    localStorage.removeItem('auth_token');
                    localStorage.removeItem('user_email');
                    throw new Error('Authentication required');
                }
                
                if (!response.ok) throw new Error('Network response was not ok');
                const result = await response.json();
                
                if (result.success && result.banks) {
                    const select = document.getElementById('bankTypeSelect');
                    select.innerHTML = result.banks.map(bank =>
                        `<option value="${bank}"${bank === 'ACB' ? ' selected' : ''}>${bank}</option>`
                    ).join('');
                }
            } catch (error) {
                console.error('Error loading bank types:', error);
                // Keep default options if API fails
            }
        }


        // Create/Update Gold Chart
        async function updateGoldChart(period = '1m', type = null) {
            const loading = document.getElementById('goldLoading');
            const canvas = document.getElementById('goldChart');

            if (!type) {
                const select = document.getElementById('goldTypeSelect');
                type = select ? select.value : 'DOJI HN';
            }

            loading.style.display = 'block';

            try {
                const token = localStorage.getItem('auth_token');
                const headers = {
                    'Content-Type': 'application/json'
                };
                
                // Add authorization header if token exists
                if (token) {
                    headers['Authorization'] = `Bearer ${token}`;
                }

                const response = await fetch(`${API_BASE_URL}/gold?period=${period}&type=${encodeURIComponent(type)}`, {
                    headers: headers
                });
                
                if (response.status === 401) {
                    // Token expired or invalid
                    localStorage.removeItem('auth_token');
                    localStorage.removeItem('user_email');
                    throw new Error('Authentication required');
                }
                
                const result = await response.json();
                const data = result.data;
                loading.style.display = 'none';

                const chartData = {
                    labels: data.dates,
                    datasets: [
                        {
                            label: 'Buy Price',
                            data: data.buy_prices,
                            borderColor: '#C9A55B',
                            backgroundColor: 'rgba(201, 165, 91, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Sell Price',
                            data: data.sell_prices,
                            borderColor: '#E4C78A',
                            backgroundColor: 'rgba(228, 199, 138, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        }
                    ]
                };

                const config = {
                    type: 'line',
                    data: chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    color: '#A0A0A0',
                                    padding: 15,
                                    font: { size: 12 }
                                }
                            },
                            tooltip: {
                                backgroundColor: '#1C1C1C',
                                titleColor: '#FFFFFF',
                                bodyColor: '#A0A0A0',
                                borderColor: 'rgba(201, 165, 91, 0.3)',
                                borderWidth: 1,
                                padding: 12,
                                displayColors: true,
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': ' +
                                               context.parsed.y.toLocaleString('vi-VN') + ' VND';
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                ticks: {
                                    callback: function(value) {
                                        return (value / 1000000).toFixed(1) + 'M';
                                    },
                                    color: '#707070'
                                },
                                grid: {
                                    color: 'rgba(201, 165, 91, 0.05)'
                                }
                            },
                            x: {
                                ticks: {
                                    maxRotation: 45,
                                    minRotation: 45,
                                    color: '#707070',
                                    autoSkip: true,
                                    maxTicksLimit: getResponsiveTickLimit(),
                                    autoSkipPadding: 15,
                                    padding: 8,
                                    font: {
                                        size: getResponsiveFontSize()
                                    },
                                    callback: function(value, index, ticks) {
                                        // Format date consistently to avoid jumping
                                        const label = this.getLabelForValue(value);
                                        if (!label) return '';

                                        // Try to parse and format consistently
                                        const parts = label.split('-');
                                        if (parts.length === 3) {
                                            // Format: MM-DD or YYYY-MM-DD
                                            const month = parts[1];
                                            const day = parts[2];
                                            return month + '-' + day;
                                        }
                                        return label;
                                    }
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                };

                if (goldChart) {
                    goldChart.destroy();
                }
                goldChart = new Chart(canvas, config);

                // Setup tooltip hide on click outside
                setupTooltipHideOnClickOutside(goldChart, canvas);

            } catch (error) {
                loading.innerHTML = '<div class="chart-error">❌ Error loading chart data. Please try again later.</div>';
            }
        }

        // Create/Update Silver Chart
        async function updateSilverChart(period = '1m') {
            const loading = document.getElementById('silverLoading');
            const canvas = document.getElementById('silverChart');

            loading.style.display = 'block';

            try {
                const data = await fetchData('silver', period);
                loading.style.display = 'none';

                const chartData = {
                    labels: data.dates,
                    datasets: [
                        {
                            label: 'Buy Price',
                            data: data.buy_prices,
                            borderColor: '#B8B8B8',
                            backgroundColor: 'rgba(184, 184, 184, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'Sell Price',
                            data: data.sell_prices,
                            borderColor: '#D4D4D4',
                            backgroundColor: 'rgba(212, 212, 212, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            fill: true
                        }
                    ]
                };

                const config = {
                    type: 'line',
                    data: chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    color: '#A0A0A0',
                                    padding: 15,
                                    font: { size: 12 }
                                }
                            },
                            tooltip: {
                                backgroundColor: '#1C1C1C',
                                titleColor: '#FFFFFF',
                                bodyColor: '#A0A0A0',
                                borderColor: 'rgba(184, 184, 184, 0.3)',
                                borderWidth: 1,
                                padding: 12,
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': ' +
                                               context.parsed.y.toLocaleString('vi-VN') + ' VND';
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                ticks: {
                                    callback: function(value) {
                                        return (value / 1000).toFixed(0) + 'K';
                                    },
                                    color: '#707070'
                                },
                                grid: {
                                    color: 'rgba(184, 184, 184, 0.05)'
                                }
                            },
                            x: {
                                ticks: {
                                    maxRotation: 45,
                                    minRotation: 45,
                                    color: '#707070',
                                    autoSkip: true,
                                    maxTicksLimit: getResponsiveTickLimit(),
                                    autoSkipPadding: 15,
                                    padding: 8,
                                    font: {
                                        size: getResponsiveFontSize()
                                    },
                                    callback: function(value, index, ticks) {
                                        // Format date consistently to avoid jumping
                                        const label = this.getLabelForValue(value);
                                        if (!label) return '';

                                        // Try to parse and format consistently
                                        const parts = label.split('-');
                                        if (parts.length === 3) {
                                            // Format: MM-DD or YYYY-MM-DD
                                            const month = parts[1];
                                            const day = parts[2];
                                            return month + '-' + day;
                                        }
                                        return label;
                                    }
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                };

                if (silverChart) {
                    silverChart.destroy();
                }
                silverChart = new Chart(canvas, config);

                // Setup tooltip hide on click outside
                setupTooltipHideOnClickOutside(silverChart, canvas);

            } catch (error) {
                loading.innerHTML = '<div class="chart-error">❌ Error loading chart data. Please try again later.</div>';
            }
        }

        // Create/Update Term Deposit Chart
        async function updateTdChart(period = '1m', bankCode = null) {
            const loading = document.getElementById('tdLoading');
            const canvas = document.getElementById('tdChart');

            if (!bankCode) {
                const select = document.getElementById('bankTypeSelect');
                bankCode = select ? select.value : 'ACB';
            }

            loading.style.display = 'block';

            try {
                const response = await fetch(`${API_BASE_URL}/termdepo?period=${period}&bank=${encodeURIComponent(bankCode)}`);
                const result = await response.json();
                const data = result.data;
                loading.style.display = 'none';

                // Term deposit shows multiple term rates over time
                const chartData = {
                    labels: data.dates,
                    datasets: [
                        {
                            label: '1 Month',
                            data: data.term_1m,
                            borderColor: '#C9A55B',
                            backgroundColor: 'rgba(201, 165, 91, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        },
                        {
                            label: '3 Months',
                            data: data.term_3m,
                            borderColor: '#E4C78A',
                            backgroundColor: 'rgba(228, 199, 138, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        },
                        {
                            label: '6 Months',
                            data: data.term_6m,
                            borderColor: '#B8B8B8',
                            backgroundColor: 'rgba(184, 184, 184, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        },
                        {
                            label: '12 Months',
                            data: data.term_12m,
                            borderColor: '#7CB342',
                            backgroundColor: 'rgba(124, 179, 66, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        },
                        {
                            label: '24 Months',
                            data: data.term_24m,
                            borderColor: '#42A5F5',
                            backgroundColor: 'rgba(66, 165, 245, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        }
                    ]
                };

                const config = {
                    type: 'line',
                    data: chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    color: '#A0A0A0',
                                    padding: 15,
                                    font: { size: 12 }
                                }
                            },
                            tooltip: {
                                backgroundColor: '#1C1C1C',
                                titleColor: '#FFFFFF',
                                bodyColor: '#A0A0A0',
                                borderColor: 'rgba(201, 165, 91, 0.3)',
                                borderWidth: 1,
                                padding: 12,
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': ' + context.parsed.y.toFixed(2) + '%';
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                ticks: {
                                    callback: function(value) {
                                        return value.toFixed(1) + '%';
                                    },
                                    color: '#707070'
                                },
                                grid: {
                                    color: 'rgba(201, 165, 91, 0.05)'
                                }
                            },
                            x: {
                                ticks: {
                                    maxRotation: 45,
                                    minRotation: 45,
                                    color: '#707070',
                                    autoSkip: true,
                                    maxTicksLimit: getResponsiveTickLimit(),
                                    autoSkipPadding: 15,
                                    padding: 8,
                                    font: {
                                        size: getResponsiveFontSize()
                                    },
                                    callback: function(value, index, ticks) {
                                        const label = this.getLabelForValue(value);
                                        if (!label) return '';
                                        const parts = label.split('-');
                                        if (parts.length === 3) {
                                            return parts[1] + '-' + parts[2];
                                        }
                                        return label;
                                    }
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                };

                if (tdChart) {
                    tdChart.destroy();
                }
                tdChart = new Chart(canvas, config);

                setupTooltipHideOnClickOutside(tdChart, canvas);

            } catch (error) {
                loading.innerHTML = '<div class="chart-error">❌ Error loading chart data. Please try again later.</div>';
            }
        }

        // Create/Update SBV Chart
        async function updateSBVChart(period = '1m') {
            const loading = document.getElementById('sbvLoading');
            const canvas = document.getElementById('sbvChart');

            loading.style.display = 'block';

            try {
                const token = localStorage.getItem('auth_token');
                const headers = {
                    'Content-Type': 'application/json'
                };
                
                // Add authorization header if token exists
                if (token) {
                    headers['Authorization'] = `Bearer ${token}`;
                }

                const response = await fetch(`${API_BASE_URL}/sbv-interbank?period=${period}`, {
                    headers: headers
                });
                
                if (response.status === 401) {
                    // Token expired or invalid
                    localStorage.removeItem('auth_token');
                    localStorage.removeItem('user_email');
                    throw new Error('Authentication required');
                }
                
                const result = await response.json();
                const data = result.data;
                loading.style.display = 'none';

                const chartData = {
                    labels: data.dates,
                    datasets: [
                        {
                            label: 'Overnight',
                            data: data.overnight,
                            borderColor: '#C9A55B',
                            backgroundColor: 'rgba(201, 165, 91, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        },
                        {
                            label: '1 Month',
                            data: data.month_1,
                            borderColor: '#E4C78A',
                            backgroundColor: 'rgba(228, 199, 138, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        },
                        {
                            label: '3 Months',
                            data: data.month_3,
                            borderColor: '#B8B8B8',
                            backgroundColor: 'rgba(184, 184, 184, 0.1)',
                            borderWidth: 2,
                            tension: 0.4
                        },                        
                        {
                            label: 'Rediscount Rate',
                            data: data.rediscount,
                            borderColor: '#B8B8B8',
                            backgroundColor: 'rgba(184, 184, 184, 0.2)',
                            borderWidth: 2,
                            tension: 0.4
                        },                      
                        {
                            label: 'Refinancing Rate',
                            data: data.refinancing,
                            borderColor: '#B8B8B8',
                            backgroundColor: 'rgba(184, 184, 184, 0.3)',
                            borderWidth: 2,
                            tension: 0.4
                        }
                    ]
                };

                const config = {
                    type: 'line',
                    data: chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    color: '#A0A0A0',
                                    padding: 15,
                                    font: { size: 12 }
                                }
                            },
                            tooltip: {
                                backgroundColor: '#1C1C1C',
                                titleColor: '#FFFFFF',
                                bodyColor: '#A0A0A0',
                                borderColor: 'rgba(201, 165, 91, 0.3)',
                                borderWidth: 1,
                                padding: 12,
                                callbacks: {
                                    label: function(context) {
                                        return context.dataset.label + ': ' + context.parsed.y + '%';
                                    }
                                }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: false,
                                ticks: {
                                    callback: function(value) {
                                        return value + '%';
                                    },
                                    color: '#707070'
                                },
                                grid: {
                                    color: 'rgba(201, 165, 91, 0.05)'
                                }
                            },
                            x: {
                                ticks: {
                                    maxRotation: 45,
                                    minRotation: 45,
                                    color: '#707070',
                                    autoSkip: true,
                                    maxTicksLimit: getResponsiveTickLimit(),
                                    autoSkipPadding: 15,
                                    padding: 8,
                                    font: {
                                        size: getResponsiveFontSize()
                                    },
                                    callback: function(value, index, ticks) {
                                        // Format date consistently to avoid jumping
                                        const label = this.getLabelForValue(value);
                                        if (!label) return '';

                                        // Try to parse and format consistently
                                        const parts = label.split('-');
                                        if (parts.length === 3) {
                                            // Format: MM-DD or YYYY-MM-DD
                                            const month = parts[1];
                                            const day = parts[2];
                                            return month + '-' + day;
                                        }
                                        return label;
                                    }
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                };

                if (sbvChart) {
                    sbvChart.destroy();
                }
                sbvChart = new Chart(canvas, config);

                // Setup tooltip hide on click outside
                setupTooltipHideOnClickOutside(sbvChart, canvas);

            } catch (error) {
                loading.innerHTML = '<div class="chart-error">❌ Error loading chart data. Please try again later.</div>';
            }
        }

        // Create/Update Global Macro Chart
        async function updateGlobalChart(period = '1m') {
            const loading = document.getElementById('globalLoading');
            const canvas = document.getElementById('globalChart');

            loading.style.display = 'block';

            try {
                const token = localStorage.getItem('auth_token');
                const headers = {
                    'Content-Type': 'application/json'
                };
                
                // Add authorization header if token exists
                if (token) {
                    headers['Authorization'] = `Bearer ${token}`;
                }

                const response = await fetch(`${API_BASE_URL}/global-macro?period=${period}`, {
                    headers: headers
                });
                
                if (response.status === 401) {
                    // Token expired or invalid
                    localStorage.removeItem('auth_token');
                    localStorage.removeItem('user_email');
                    throw new Error('Authentication required');
                }
                
                const result = await response.json();
                const data = result.data;
                loading.style.display = 'none';

                const chartData = {
                    labels: data.dates,
                    datasets: [
                        {
                            label: 'Gold ($/oz)',
                            data: data.gold_prices,
                            borderColor: '#C9A55B',
                            backgroundColor: 'rgba(201, 165, 91, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            yAxisID: 'y-gold'
                        },
                        {
                            label: 'Silver ($/oz)',
                            data: data.silver_prices,
                            borderColor: '#B8B8B8',
                            backgroundColor: 'rgba(184, 184, 184, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            yAxisID: 'y-silver'
                        },
                        {
                            label: 'NASDAQ',
                            data: data.nasdaq_prices,
                            borderColor: '#4A90E2',
                            backgroundColor: 'rgba(74, 144, 226, 0.1)',
                            borderWidth: 2,
                            tension: 0.4,
                            yAxisID: 'y-nasdaq'
                        }
                    ]
                };

                const config = {
                    type: 'line',
                    data: chartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        plugins: {
                            legend: {
                                position: 'top',
                                labels: {
                                    color: '#A0A0A0',
                                    padding: 15,
                                    font: { size: 12 }
                                }
                            },
                            tooltip: {
                                backgroundColor: '#1C1C1C',
                                titleColor: '#FFFFFF',
                                bodyColor: '#A0A0A0',
                                borderColor: 'rgba(201, 165, 91, 0.3)',
                                borderWidth: 1,
                                padding: 12,
                                callbacks: {
                                    label: function(context) {
                                        const label = context.dataset.label;
                                        const value = context.parsed.y;
                                        if (label.includes('NASDAQ')) {
                                            return label + ': ' + value.toLocaleString('en-US', {maximumFractionDigits: 2});
                                        } else {
                                            return label + ': $' + value.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2});
                                        }
                                    }
                                }
                            }
                        },
                        scales: {
                            'y-gold': {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                title: {
                                    display: true,
                                    text: 'Gold/Silver ($/oz)',
                                    color: '#C9A55B'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value.toLocaleString('en-US');
                                    },
                                    color: '#707070'
                                },
                                grid: {
                                    color: 'rgba(201, 165, 91, 0.05)'
                                }
                            },
                            'y-silver': {
                                type: 'linear',
                                display: false,
                                position: 'left',
                                grid: {
                                    drawOnChartArea: false
                                }
                            },
                            'y-nasdaq': {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'NASDAQ',
                                    color: '#4A90E2'
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value.toLocaleString('en-US');
                                    },
                                    color: '#707070'
                                },
                                grid: {
                                    drawOnChartArea: false
                                }
                            },
                            x: {
                                ticks: {
                                    maxRotation: 45,
                                    minRotation: 45,
                                    color: '#707070',
                                    autoSkip: true,
                                    maxTicksLimit: getResponsiveTickLimit(),
                                    autoSkipPadding: 15,
                                    padding: 8,
                                    font: {
                                        size: getResponsiveFontSize()
                                    },
                                    callback: function(value, index, ticks) {
                                        // Format date consistently to avoid jumping
                                        const label = this.getLabelForValue(value);
                                        if (!label) return '';

                                        // Try to parse and format consistently
                                        const parts = label.split('-');
                                        if (parts.length === 3) {
                                            // Format: MM-DD or YYYY-MM-DD
                                            const month = parts[1];
                                            const day = parts[2];
                                            return month + '-' + day;
                                        }
                                        return label;
                                    }
                                },
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                };

                if (globalChart) {
                    globalChart.destroy();
                }
                globalChart = new Chart(canvas, config);

                // Setup tooltip hide on click outside
                setupTooltipHideOnClickOutside(globalChart, canvas);

            } catch (error) {
                loading.innerHTML = '<div class="chart-error">❌ Error loading chart data. Please try again later.</div>';
            }
        }

        // Filter button functionality
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const chart = this.dataset.chart;
                const period = this.dataset.period;

                // Update active state for buttons in same group
                document.querySelectorAll(`.filter-btn[data-chart="${chart}"]`).forEach(b => {
                    b.classList.remove('active');
                });
                this.classList.add('active');

                // Update respective chart
                if (chart === 'gold') {
                    updateGoldChart(period);
                } else if (chart === 'silver') {
                    updateSilverChart(period);
                } else if (chart === 'td') {
                    updateTdChart(period);
                } else if (chart === 'sbv') {
                    updateSBVChart(period);
                } else if (chart === 'global') {
                    updateGlobalChart(period);
                }
            });
        });

        // Load AI-generated gold analysis
        async function loadGoldAnalysis() {
            try {
                const response = await fetch(`${API_BASE_URL}/gold-analysis`);
                if (!response.ok) {
                    console.error('Failed to fetch gold analysis');
                    return;
                }

                const result = await response.json();
                if (result.success && result.data) {
                    // Update article content
                    const articleBody = document.querySelector('#article-1 .article-text');
                    if (articleBody) {
                        articleBody.innerHTML = result.data.content;
                    }

                    // Update article date
                    const articleDate = document.querySelector('#article-1 .article-meta .meta-item:nth-child(2)');
                    if (articleDate && result.data.generated_at) {
                        const date = new Date(result.data.generated_at);
                        const formatted = date.toLocaleString('vi-VN', {
                            day: '2-digit',
                            month: '2-digit',
                            year: 'numeric',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                        articleDate.textContent = formatted;
                    }

                    console.log('✅ Gold analysis loaded successfully');
                } else {
                    console.warn('No gold analysis available, using static content');
                }
            } catch (error) {
                console.error('Error loading gold analysis:', error);
                // Keep static content as fallback
            }
        }

        // CSV Download functionality
        function convertToCSV(data, headers) {
            const rows = [headers.join(',')];

            for (let i = 0; i < data.dates.length; i++) {
                const row = [data.dates[i]];
                Object.keys(data).forEach(key => {
                    if (key !== 'dates' && key !== 'count') {
                        row.push(data[key][i] || '');
                    }
                });
                rows.push(row.join(','));
            }

            return rows.join('\n');
        }

        function downloadCSV(filename, csvContent) {
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);

            link.setAttribute('href', url);
            link.setAttribute('download', filename);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Notification overlay functions
        function showNotificationOverlay() {
            const overlay = document.getElementById('notification-overlay');
            overlay.classList.add('active');
        }

        function hideNotificationOverlay() {
            const overlay = document.getElementById('notification-overlay');
            overlay.classList.remove('active');
        }

        // Add event listeners for notification buttons
        document.addEventListener('DOMContentLoaded', function() {
            const cancelBtn = document.getElementById('cancel-btn');
            const loginBtn = document.getElementById('login-btn');

            if (cancelBtn) {
                cancelBtn.addEventListener('click', hideNotificationOverlay);
            }

            if (loginBtn) {
                loginBtn.addEventListener('click', function() {
                    hideNotificationOverlay();
                    window.location.href = 'login.html';
                });
            }

            // Check authentication status on page load
            checkAuthenticationStatus();
        });

        async function handleDownloadCSV(dataset) {
            // Check if user is authenticated
            const token = localStorage.getItem('auth_token');
            if (!token) {
                // Show notification overlay instead of alert
                showNotificationOverlay();
                return;
            }

            try {
                let endpoint, headers, filename;

                switch(dataset) {
                    case 'gold':
                        const goldType = document.getElementById('goldTypeSelect').value || 'DOJI HN';
                        endpoint = `gold?period=all&type=${encodeURIComponent(goldType)}`;
                        headers = ['Date', 'Buy Price (VND)', 'Sell Price (VND)'];
                        filename = `vietnam_gold_price_${goldType.replace(/ /g, '_')}_${new Date().toISOString().split('T')[0]}.csv`;
                        break;
                    case 'silver':
                        endpoint = 'silver?period=all';
                        headers = ['Date', 'Buy Price (VND)', 'Sell Price (VND)'];
                        filename = `vietnam_silver_price_${new Date().toISOString().split('T')[0]}.csv`;
                        break;
                    case 'sbv':
                        endpoint = 'sbv-interbank?period=all';
                        headers = ['Date', 'Overnight', '1 Week', '2 Weeks', '1 Month', '3 Months', '6 Months', '9 Months', 'rediscount_rate', 'refinancing_rate'];
                        filename = `sbv_interbank_rates_${new Date().toISOString().split('T')[0]}.csv`;
                        break;
                    case 'td':
                        endpoint = 'termdepo?period=all';
                        apiUrl = `${API_BASE_URL}/termdepo?period=1m&bank=ACB`;
                        example = 'GET /api/v1/termdepo?period=1m&bank=ACB';
                        break;
                    default:
                        console.error('Unknown dataset:', dataset);
                        return;
                }

                // Show loading
                const button = document.querySelector(`[data-download="${dataset}"]`);
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Downloading...';
                button.disabled = true;

                // Fetch data with authentication header
                console.log('🔄 Fetching data from:', `${API_BASE_URL}/${endpoint}`);
                const response = await fetch(`${API_BASE_URL}/${endpoint}`, {
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });

                console.log('📡 Response status:', response.status);

                if (response.status === 401) {
                    // Token expired or invalid
                    localStorage.removeItem('auth_token');
                    localStorage.removeItem('user_email');
                    alert('Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.');
                    window.location.href = 'login.html';
                    return;
                }

                if (!response.ok) {
                    const errorText = await response.text();
                    console.error('❌ API Error:', response.status, errorText);
                    throw new Error(`API Error: ${response.status} - ${errorText}`);
                }

                const result = await response.json();
                console.log('✅ API Response:', result);

                if (!result.success || !result.data) {
                    throw new Error('Invalid API response format');
                }

                const csvContent = convertToCSV(result.data, headers);
                console.log('📄 CSV Content generated, length:', csvContent.length);

                // Download
                downloadCSV(filename, csvContent);

                // Reset button
                button.innerHTML = originalHTML;
                button.disabled = false;

                console.log(`✅ Downloaded ${filename}`);
            } catch (error) {
                console.error('Download error:', error);
                alert('Failed to download CSV. Please try again.');

                // Reset button
                const button = document.querySelector(`[data-download="${dataset}"]`);
                button.innerHTML = '<i class="fas fa-download"></i> Download';
                button.disabled = false;
            }
        }

        // API Info functionality
        function showAPIInfo(dataset) {
            let apiUrl, example;

            switch(dataset) {
                case 'gold':
                    apiUrl = `${API_BASE_URL}/gold?period=1m&type=DOJI%20HN`;
                    example = 'GET /api/v1/gold?period=1m&type=DOJI HN';
                    break;
                case 'silver':
                    apiUrl = `${API_BASE_URL}/silver?period=1m`;
                    example = 'GET /api/v1/silver?period=1m';
                    break;
                case 'sbv':
                    apiUrl = `${API_BASE_URL}/sbv-interbank?period=1m`;
                    example = 'GET /api/v1/sbv-interbank?period=1m';
                    break;
                case 'td':
                    apiUrl = `${API_BASE_URL}/sbv-interbank?period=1m`;
                    example = 'GET /api/v1/td?period=1m';
                break;
            }

            alert(`API Endpoint:\n\n${example}\n\nFull URL:\n${apiUrl}\n\nPeriods: 7d, 1m, 1y, all`);
        }

        // Initialize charts and analysis on page load
        // Initialize charts and analysis on page load
        window.addEventListener('load', function() {
            loadGoldTypes().then(() => {
                updateGoldChart('1m');

                // Add type selector change event
                document.getElementById('goldTypeSelect').addEventListener('change', function() {
                    const activeBtn = document.querySelector('.filter-btn[data-chart="gold"].active');
                    // Thêm check null để an toàn hơn
                    const period = activeBtn ? activeBtn.dataset.period : '1m';
                    updateGoldChart(period, this.value);
                });
            });

            // Initialize term deposit chart with bank selector
            loadBankTypes().then(() => { // Nên load bank types trước khi vẽ chart
                updateTdChart('1m');
            });

            document.getElementById('bankTypeSelect').addEventListener('change', function() {
                const activeBtn = document.querySelector('.filter-btn[data-chart="td"].active');
                const period = activeBtn ? activeBtn.dataset.period : '1m';
                updateTdChart(period, this.value);
            });

            updateSilverChart('1m');
            updateSBVChart('1m');
            
            // FIX TYPO HERE: updatetdChart -> updateTdChart
            updateTdChart('1m'); 
            
            updateGlobalChart('1m');
            loadGoldAnalysis();

            // Add download button listeners
            document.querySelectorAll('[data-download]').forEach(button => {
                button.addEventListener('click', function() {
                    const dataset = this.getAttribute('data-download');
                    handleDownloadCSV(dataset);
                });
            });

            // Add API button listeners
            document.querySelectorAll('[data-api]').forEach(button => {
                button.addEventListener('click', function() {
                    const dataset = this.getAttribute('data-api');
                    showAPIInfo(dataset);
                });
            });
        });


    </script>

    <!-- Structured Data for SEO (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Viet Dataverse",
      "description": "Vietnamese economic data and market analysis platform",
      "url": "https://nguyenphamdieuhien.online/vietdataverse/"
    }
    </script>

    <!-- Article 1 Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "NewsArticle",
      "headline": "Gold Prices Today",
      "datePublished": "2026-01-05T14:30:00+07:00",
      "dateModified": "2026-01-05T14:30:00+07:00",
      "author": {
        "@type": "Person",
        "name": "Hồng Chiêu"
      },
      "publisher": {
        "@type": "Organization",
        "name": "VnExpress"
      },
      "articleSection": "Macroeconomic Trends",
      "keywords": "gold price, Vietnam, SJC gold, DOJI, precious metals",
      "articleBody": "SJC gold bars traded in Hanoi today increased by 500,000 VND, reaching 79.8 - 80.2 million VND/tael. This represents a 0.6% increase and marks the highest level in the past three months."
    }
    </script>

</body>
</html>
